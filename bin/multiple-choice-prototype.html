<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INTUITY - Multiple Choice Quiz</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'SF Pro Text','Segoe UI',Roboto,sans-serif;background:#0d0d0d;background-image:radial-gradient(circle at 20% 50%,rgba(212,175,55,0.04) 0%,transparent 50%);min-height:100vh;color:#e5e5e5;padding:1rem}
.top-nav{max-width:62rem;margin:0 auto 1rem;display:flex;justify-content:space-between;align-items:center;padding:0 .5rem;flex-wrap:wrap;gap:.75rem}
.nav-link{color:#8e8e93;text-decoration:none;font-size:.8125rem;transition:color .3s}
.nav-link:hover{color:#d1d1d6}
.dataset-selector{position:relative}
.dataset-btn{color:#f5f5f7;background:rgba(212,175,55,.15);border:1px solid rgba(212,175,55,.3);padding:.625rem 1.25rem;border-radius:.625rem;cursor:pointer;font-size:.8125rem;font-weight:500}
.dataset-dropdown{position:absolute;top:calc(100% + .5rem);right:0;background:rgba(28,28,30,.98);border:1px solid rgba(84,84,88,.3);border-radius:.75rem;padding:.5rem;min-width:220px;display:none;z-index:1000}
.dataset-dropdown.active{display:block}
.dataset-option{padding:.625rem .875rem;color:#aeaeb2;background:none;border:none;width:100%;text-align:left;cursor:pointer;font-size:.8125rem;border-radius:.5rem}
.dataset-option:hover{background:rgba(99,99,102,.2);color:#f5f5f7}
.dataset-option.active{background:rgba(212,175,55,.18);color:#d4af37;font-weight:500}
.container{max-width:62rem;margin:0 auto;padding:0 1rem 5rem}
.header{text-align:center;margin-bottom:3rem;padding-top:2rem}
.header h1{font-size:3rem;font-weight:700;color:#d4af37;margin-bottom:.75rem}
.header .subtitle{font-size:1rem;color:#8e8e93;margin-bottom:.5rem}
.header .author{font-size:.8125rem;color:#636366}
.test-nav{display:flex;align-items:center;justify-content:center;gap:1.5rem;margin-bottom:2rem}
.dots-container{display:flex;gap:.75rem;flex-wrap:wrap;justify-content:center;max-width:24rem}
.test-dot{width:.875rem;height:.875rem;border-radius:50%;background:rgba(99,99,102,.3);cursor:pointer;transition:all .4s;border:none}
.test-dot:hover{transform:scale(1.5);background:rgba(142,142,147,.5)}
.test-dot.perfect{background:linear-gradient(135deg,#84cc16 0%,#65a30d 100%)}
.test-dot.excellent{background:linear-gradient(135deg,#86efac 0%,#4ade80 100%)}
.test-dot.good{background:linear-gradient(135deg,#7dd3fc 0%,#38bdf8 100%)}
.test-dot.fair{background:linear-gradient(135deg,#fb923c 0%,#f97316 100%)}
.test-dot.poor{background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%)}
.test-dot.current{box-shadow:0 0 0 3px rgba(212,175,55,.5);transform:scale(1.6);background:#d4af37}
.test-info{text-align:center;font-size:.875rem;color:#636366;margin-bottom:2rem}
.content-container{background:rgba(28,28,30,.6);backdrop-filter:blur(40px);border-radius:1.25rem;border:1px solid rgba(84,84,88,.25);padding:3rem;min-height:450px;position:relative}
.container-nav-arrows{display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid rgba(84,84,88,.2)}
.test-arrow-btn{padding:.5rem 1rem;border:1px solid rgba(99,99,102,.3);border-radius:.625rem;background:rgba(48,48,51,.3);color:#aeaeb2;font-size:.8125rem;font-weight:500;cursor:pointer;transition:all .3s}
.test-arrow-btn:hover:not(:disabled){background:rgba(99,99,102,.35);color:#e5e5e7;transform:translateY(-1px)}
.test-arrow-btn:disabled{opacity:.25;cursor:not-allowed}
.container-nav-dots{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center;max-width:20rem}
.container-nav-dots .test-dot{width:.625rem;height:.625rem}
.mode-toggle-container{position:absolute;top:1.5rem;right:1.5rem;background:rgba(99,99,102,.15);padding:.375rem;border-radius:.75rem;border:1px solid rgba(99,99,102,.2)}
.mode-btn{padding:.625rem 1.125rem;border:none;border-radius:.5rem;font-size:.8125rem;font-weight:600;cursor:pointer;background:rgba(212,175,55,.25);color:#d4af37;display:flex;align-items:center;gap:.5rem;transition:all .3s}
.mode-btn:hover{background:rgba(212,175,55,.35);transform:translateY(-1px)}
.hidden{display:none!important}
.questions-list{display:flex;flex-direction:column;gap:1.5rem;margin-top:3rem}
.question-item{border-radius:.75rem;border:1px solid rgba(84,84,88,.3);background:rgba(48,48,51,.3);padding:1rem}
.question-item.expanded{background:rgba(48,48,51,.5)}
.question-header{display:flex;align-items:flex-start;gap:.75rem;margin-bottom:.75rem}
.question-number{flex-shrink:0;width:1.5em;height:1.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8125rem;font-weight:600;background:rgba(212,175,55,.25);color:#d4af37;cursor:pointer;border:1px solid rgba(212,175,55,.3)}
.question-number.answered{background:rgba(56,189,248,.25);color:#38bdf8}
.question-text{flex:1;color:#e5e5e7;line-height:1.5;font-size:.8125rem}
.close-btn{color:#8e8e93;background:none;border:none;cursor:pointer;font-size:1rem}
.options-grid{display:grid;grid-template-columns:1fr 1fr;gap:.5rem 1rem}
.option{text-align:left;font-size:.8125rem;color:#aeaeb2;background:rgba(48,48,51,.3);border:1px solid rgba(84,84,88,.3);cursor:pointer;padding:.5rem;border-radius:.5rem;transition:all .15s}
.option:hover{color:#e5e5e7;background:rgba(99,99,102,.3)}
.option.selected{background:rgba(56,189,248,.2);border-color:#38bdf8;color:#38bdf8;font-weight:600}
.option.correct,.option.key-shown{background:rgba(132,204,22,.15)!important;color:#84cc16!important;font-weight:600;border:2px solid #84cc16!important}
.option.incorrect{background:rgba(251,146,60,.15)!important;color:#fb923c!important;font-weight:600;border:2px solid #fb923c!important}
.option-letter{font-weight:bold;margin-right:.5rem}
.guided-container{margin-top:3rem}
.question-dots{display:flex;justify-content:center;gap:.625rem;margin-bottom:1.5rem;flex-wrap:wrap}
.question-dot{width:2rem;height:2rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8125rem;font-weight:500;cursor:pointer;background:rgba(99,99,102,.2);color:#8e8e93;border:1px solid rgba(99,99,102,.2);transition:all .3s}
.question-dot:hover{background:rgba(99,99,102,.35);transform:scale(1.1)}
.question-dot.current{background:rgba(212,175,55,.25);color:#d4af37;transform:scale(1.15)}
.question-dot.answered{background:rgba(56,189,248,.25);color:#38bdf8}
.question-card{background:rgba(48,48,51,.4);border-radius:1rem;padding:2rem;border:1px solid rgba(84,84,88,.3)}
.question-label{font-size:.75rem;color:#636366;margin-bottom:1.25rem;text-transform:uppercase;text-align:center}
.question-text-large{font-size:1.125rem;color:#e5e5e7;line-height:1.75;margin-bottom:1.5rem}
.options-grid-large{display:grid;grid-template-columns:1fr 1fr;gap:.75rem;margin-bottom:2rem}
.option-large{padding:1rem;font-size:.9375rem;border-radius:.75rem;background:rgba(48,48,51,.3);border:2px solid rgba(84,84,88,.3);color:#aeaeb2;cursor:pointer;text-align:left;transition:all .2s}
.option-large:hover{background:rgba(99,99,102,.3);transform:scale(1.02)}
.option-large.selected{background:rgba(56,189,248,.2);border-color:#38bdf8;color:#38bdf8;font-weight:600}
.option-large.correct,.option-large.key-shown{background:rgba(132,204,22,.15)!important;color:#84cc16!important;font-weight:600;border-color:#84cc16!important}
.option-large.incorrect{background:rgba(251,146,60,.15)!important;color:#fb923c!important;font-weight:600;border-color:#fb923c!important}
.nav-buttons{display:flex;justify-content:space-between;gap:1rem}
.nav-btn{padding:.75rem 1.5rem;border:none;border-radius:.75rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .3s}
.nav-btn:disabled{opacity:.25;cursor:not-allowed}
.nav-btn-secondary{background:rgba(99,99,102,.25);color:#aeaeb2;border:1px solid rgba(99,99,102,.2)}
.nav-btn-secondary:hover:not(:disabled){background:rgba(99,99,102,.35);color:#e5e5e7}
.nav-btn-primary{background:rgba(212,175,55,.18);color:#d4af37;border:1px solid rgba(212,175,55,.35)}
.nav-btn-primary:hover:not(:disabled){background:rgba(212,175,55,.28)}
.footer{position:fixed;bottom:0;left:0;right:0;padding:1.25rem 1rem;background:rgba(28,28,30,.95);border-top:1px solid rgba(84,84,88,.3);display:none;justify-content:center;gap:1rem;z-index:900;opacity:0;transform:translateY(100%);transition:all .4s}
.footer.visible{display:flex;opacity:1;transform:translateY(0)}
.footer button{color:#aeaeb2;background:transparent;border:none;cursor:pointer;padding:.625rem 1.125rem;border-radius:.625rem;font-size:.875rem;transition:all .3s}
.footer button:hover{color:#e5e5e7;background:rgba(99,99,102,.2)}
.footer button:disabled{opacity:.3;cursor:not-allowed}
.footer button.primary{background:rgba(212,175,55,.25);color:#d4af37;font-weight:600}
.footer button.key-active{background:rgba(132,204,22,.15);color:#84cc16;font-weight:600}
.modal-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);z-index:1000;align-items:center;justify-content:center;padding:1rem}
.modal-overlay.active{display:flex}
.modal{background:rgba(28,28,30,.98);border:1px solid rgba(84,84,88,.4);border-radius:1.25rem;padding:2.5rem;max-width:520px;width:100%;max-height:90vh;overflow-y:auto}
.modal-header{text-align:center;margin-bottom:2rem}
.modal-title{font-size:1.75rem;font-weight:600;color:#f5f5f7}
.modal-subtitle{font-size:.9375rem;color:#8e8e93;margin-top:.625rem}
.score-display{text-align:center;padding:2rem 1rem;background:rgba(48,48,51,.4);border-radius:1rem;margin-bottom:1.5rem}
.score-number{font-size:3.5rem;font-weight:700;color:#d4af37}
.score-label{font-size:.875rem;color:#8e8e93;margin-top:.5rem}
.modal-footer{display:flex;gap:1rem;margin-top:1.5rem}
.modal-btn{flex:1;padding:.875rem;border:none;border-radius:.75rem;font-size:.9375rem;font-weight:600;cursor:pointer;transition:all .3s}
.modal-btn-primary{background:rgba(212,175,55,.28);color:#d4af37}
.modal-btn-secondary{background:rgba(99,99,102,.25);color:#aeaeb2}
.toast{position:fixed;bottom:6rem;left:50%;transform:translateX(-50%);background:rgba(28,28,30,.98);color:#e5e5e7;padding:.875rem 1.5rem;border-radius:.875rem;font-size:.875rem;z-index:1100;opacity:0;transition:all .4s}
.toast.show{opacity:1}
</style>
</head>
<body>
<div class="top-nav">
<a href="#" class="nav-link">← Home</a>
<div class="dataset-selector">
<button class="dataset-btn" onclick="toggleDatasetMenu()">Select Type ▾</button>
<div class="dataset-dropdown" id="datasetDropdown">
<button class="dataset-option active" onclick="selectDataset(0)">Set 1 (5 tests)</button>
<button class="dataset-option" onclick="selectDataset(1)">Set 2 (5 tests)</button>
<button class="dataset-option" onclick="selectDataset(2)">Set 3 (5 tests)</button>
</div>
</div>
</div>
<div class="container">
<div class="header">
<h1>INTUITY</h1>
<p class="subtitle">Multiple Choice Quiz · B2 Level</p>
<p class="author">by Majid Nashtai</p>
</div>
<div class="test-nav"><div class="dots-container" id="dotsContainer"></div></div>
<div class="test-info" id="testInfo"></div>
<div class="content-container">
<div class="container-nav-arrows">
<button class="test-arrow-btn" id="prevTestBtn" onclick="previousTest()">← Previous Test</button>
<div class="container-nav-dots" id="containerDotsContainer"></div>
<button class="test-arrow-btn" id="nextTestBtn" onclick="nextTestInContainer()">Next Test →</button>
</div>
<div class="mode-toggle-container">
<button class="mode-btn" onclick="toggleMode()">
<span id="modeIcon">📄</span>
<span id="modeLabel">Full Page</span>
</button>
</div>
<div id="guidedContainer" class="hidden"></div>
<div id="classicContainer"></div>
</div>
<div class="footer" id="footer">
<button onclick="showHint()">Hint</button>
<button onclick="showKey()" id="keyBtn" disabled>Key</button>
<button onclick="clearAnswers()">Clear</button>
<button class="primary" onclick="submitAndScore()">Submit</button>
</div>
</div>
<div class="modal-overlay" id="scoreModal" onclick="if(event.target===this)closeModal()">
<div class="modal">
<div class="modal-header">
<div class="modal-title">Test Results</div>
<div class="modal-subtitle" id="modalSubtitle"></div>
</div>
<div class="score-display">
<div class="score-number" id="scoreNumber">0/0</div>
<div class="score-label">First Attempt Score</div>
</div>
<div class="modal-footer">
<button class="modal-btn modal-btn-secondary" onclick="closeModal()">Close</button>
<button class="modal-btn modal-btn-primary" onclick="nextTest()">Next Test</button>
</div>
</div>
</div>
<div class="toast" id="toast"></div>
<script>
const demo=Array(5).fill(null).map((_,s)=>({sentences:Array(10).fill(null).map((_,i)=>({q:`Test ${s+1}, Question ${i+1}: Select the correct answer for this demo.`,options:['A) First option','B) Second option','C) Third option','D) Fourth option'],answer:String.fromCharCode(65+(i%4))}))}));
let allTests=demo,cdi=0,ct=0,cq=0,ans={},exp=[],mode='classic',showing=false,kv=false,scores={};
function toast(m){const t=document.getElementById('toast');t.textContent=m;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),2500)}
function toggleDatasetMenu(){document.getElementById('datasetDropdown').classList.toggle('active')}
function selectDataset(i){cdi=i;ct=0;cq=0;ans={};exp=[];scores={};document.querySelectorAll('.dataset-option').forEach((b,j)=>b.classList.toggle('active',j===i));toggleDatasetMenu();loadTest(0)}
function createDots(){const c=document.getElementById('dotsContainer');c.innerHTML='';for(let i=0;i<5;i++){const d=document.createElement('button');d.className='test-dot';if(i===ct)d.classList.add('current');const s=scores[`t${i}`];if(s){const p=s.pct;if(p===100)d.classList.add('perfect');else if(p>=75)d.classList.add('excellent');else if(p>=60)d.classList.add('good');else if(p>=50)d.classList.add('fair');else d.classList.add('poor')}d.onclick=()=>goToTest(i);c.appendChild(d)}}
function updateCN(){document.getElementById('prevTestBtn').disabled=ct===0;document.getElementById('nextTestBtn').disabled=ct>=4;const c=document.getElementById('containerDotsContainer');c.innerHTML='';for(let i=0;i<5;i++){const d=document.createElement('button');d.className='test-dot';if(i===ct)d.classList.add('current');const s=scores[`t${i}`];if(s){const p=s.pct;if(p===100)d.classList.add('perfect');else if(p>=75)d.classList.add('excellent');else if(p>=60)d.classList.add('good');else if(p>=50)d.classList.add('fair');else d.classList.add('poor')}d.onclick=()=>goToTest(i);c.appendChild(d)}}
function loadTest(i){ct=i;cq=0;ans={};exp=[];showing=false;kv=false;createDots();updateCN();updateMT();updateInfo();updateFooter();mode==='guided'?renderG():renderC()}
function updateMT(){document.getElementById('modeIcon').textContent=mode==='guided'?'📝':'📄';document.getElementById('modeLabel').textContent=mode==='guided'?'Sentence by Sentence':'Full Page'}
function toggleMode(){mode=mode==='guided'?'classic':'guided';updateMT();document.getElementById('guidedContainer').classList.toggle('hidden',mode==='classic');document.getElementById('classicContainer').classList.toggle('hidden',mode==='guided');mode==='guided'?renderG():renderC()}
function updateInfo(){const t=allTests[ct].sentences.length,a=Object.keys(ans).length;document.getElementById('testInfo').textContent=`Set ${cdi+1} • Test ${ct+1} of 5 • ${a}/${t} answered`}
function updateFooter(){const t=allTests[ct].sentences.length,a=Object.keys(ans).length,f=document.getElementById('footer'),k=document.getElementById('keyBtn');if(showing){f.classList.add('visible');k.disabled=false;k.classList.toggle('key-active',kv)}else{f.classList.toggle('visible',a===t);k.disabled=true;k.classList.remove('key-active')}}
function renderC(){const t=allTests[ct],c=document.getElementById('classicContainer');c.innerHTML='<div class="questions-list"></div>';const l=c.querySelector('.questions-list');t.sentences.forEach((q,qi)=>{const e=exp.includes(qi),a=ans[qi]!==undefined,cor=q.answer.charCodeAt(0)-65,d=document.createElement('div');d.className='question-item'+(e?' expanded':'');let h=`<div class="question-header"><div class="question-number${a?' answered':''}" onclick="togQ(${qi})">${qi+1}</div><div class="question-text">${q.q}</div>`;if(e)h+=`<button class="close-btn" onclick="togQ(${qi})">✕</button>`;h+=`</div>`;if(e){h+=`<div class="options-grid">`;q.options.forEach((o,oi)=>{let cl='option';if(ans[qi]===oi)cl+=' selected';if(showing){if(kv){if(oi===cor)cl+=' key-shown'}else{if(oi===cor)cl+=' correct';if(ans[qi]===oi&&oi!==cor)cl+=' incorrect'}}h+=`<button class="${cl}" onclick="selA(${qi},${oi})"><span class="option-letter">${o[0]}</span> ${o.substring(3)}</button>`});h+=`</div>`}d.innerHTML=h;l.appendChild(d)})}
function renderG(){const t=allTests[ct],qs=t.sentences,c=document.getElementById('guidedContainer');let h='<div class="guided-container"><div class="question-dots">';qs.forEach((q,i)=>{const cu=i===cq,a=ans[i]!==undefined;h+=`<div class="question-dot${cu?' current':''}${a?' answered':''}" onclick="jumpQ(${i})">${i+1}</div>`});h+=`</div><div class="question-card"><div class="question-label">Question ${cq+1} of ${qs.length}</div><div class="question-text-large">${qs[cq].q}</div><div class="options-grid-large" id="ogl"></div><div class="nav-buttons"><button class="nav-btn nav-btn-secondary"${cq===0?' disabled':''} onclick="prevQ()">← Previous</button><button class="nav-btn nav-btn-primary"${cq>=qs.length-1?' disabled':''} onclick="nextQ()">Next →</button></div></div></div>`;c.innerHTML=h;const og=document.getElementById('ogl'),cor=qs[cq].answer.charCodeAt(0)-65;qs[cq].options.forEach((o,oi)=>{const b=document.createElement('button');b.className='option-large';if(ans[cq]===oi)b.classList.add('selected');if(showing){if(kv){if(oi===cor)b.classList.add('key-shown')}else{if(oi===cor)b.classList.add('correct');if(ans[cq]===oi&&oi!==cor)b.classList.add('incorrect')}}b.innerHTML=`<span class="option-letter">${o[0]}</span> ${o.substring(3)}`;b.onclick=()=>{if(!showing){selA(cq,oi);renderG()}};og.appendChild(b)})}
function togQ(i){exp.includes(i)?exp=exp.filter(x=>x!==i):exp.push(i);renderC()}
function selA(qi,ai){if(showing)return;ans[qi]=ai;updateInfo();updateFooter()}
function prevQ(){if(cq>0){cq--;renderG()}}
function nextQ(){if(cq<allTests[ct].sentences.length-1){cq++;renderG()}}
function jumpQ(i){cq=i;renderG()}
function showHint(){if(showing)return toast('Hints not available after submission');const un=[];allTests[ct].sentences.forEach((_,i)=>{if(ans[i]===undefined)un.push(i)});if(un.length===0)return toast('All questions answered!');const r=un[Math.floor(Math.random()*un.length)];if(mode==='guided'){cq=r;renderG();toast(`Showing question ${r+1}`)}else{if(!exp.includes(r))exp.push(r);renderC();toast(`Highlighted question ${r+1}`)}}
function showKey(){if(!showing)return toast('Submit first');kv=!kv;document.getElementById('keyBtn').textContent=kv?'Hide Key':'Key';document.getElementById('keyBtn').classList.toggle('key-active',kv);toast(kv?'Showing correct answers':'Key hidden');mode==='guided'?renderG():renderC()}
function clearAnswers(){if(showing)return toast('Test is locked');if(Object.keys(ans).length===0)return toast('Nothing to clear');if(confirm('Clear all answers?')){ans={};mode==='guided'?renderG():renderC();updateInfo();updateFooter();toast('Cleared')}}
function submitAndScore(){const t=allTests[ct].sentences,tot=t.length,a=Object.keys(ans).length;if(a<tot)return toast('Answer all questions');if(scores[`t${ct}`])return toast('Already submitted');let c=0;t.forEach((q,i)=>{if(ans[i]===(q.answer.charCodeAt(0)-65))c++});const p=Math.round(c/tot*100);scores[`t${ct}`]={cor:c,tot:tot,pct:p};showing=true;kv=false;exp=t.map((_,i)=>i);mode==='guided'?renderG():renderC();createDots();updateFooter();setTimeout(()=>{document.getElementById('modalSubtitle').textContent=`Set ${cdi+1} • Test ${ct+1} of 5`;document.getElementById('scoreNumber').textContent=`${c}/${tot}`;document.getElementById('scoreModal').classList.add('active')},200)}
function closeModal(){document.getElementById('scoreModal').classList.remove('active')}
function nextTest(){closeModal();ct<4?goToTest(ct+1):toast('No more tests')}
function previousTest(){ct>0&&goToTest(ct-1)}
function nextTestInContainer(){ct<4&&goToTest(ct+1)}
function goToTest(i){loadTest(i)}
loadTest(0);
</script>
</body>
</html>
