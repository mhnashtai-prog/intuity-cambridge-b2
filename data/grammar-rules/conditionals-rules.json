<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>INTUITY: B2 First Conditionals Rules</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      margin: 0;
      background: #0d0d0d;
      font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0.75rem;
      color: #fff;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      position: relative;
      overflow-x: hidden;
    }

    .background {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(circle at 30% 20%, rgba(201, 169, 97, 0.08) 0%, transparent 50%),
                  radial-gradient(circle at 70% 80%, rgba(201, 169, 97, 0.06) 0%, transparent 45%),
                  #0d0d0d;
      z-index: 0;
    }

    .container {
      max-width: 900px;
      width: 100%;
      position: relative;
      z-index: 1;
    }
    
    .top-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 0;
      margin-bottom: 0.5rem;
      gap: 1rem;
    }
    
    .nav-left {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .nav-link {
      color: #8e8e93;
      text-decoration: none;
      font-size: 0.875rem;
      font-weight: 500;
      transition: color 0.3s ease;
      white-space: nowrap;
    }
    
    .nav-link:hover {
      color: #C9A961;
    }
    
    .nav-center {
      flex: 1;
      text-align: center;
    }
    
    .nav-title {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.5rem;
      font-weight: 700;
      color: #C9A961;
      letter-spacing: -0.04em;
      text-transform: uppercase;
      background: linear-gradient(135deg, #C9A961 0%, rgba(201, 169, 97, 0.8) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    header {
      text-align: center;
      margin-bottom: 0.5rem;
      padding: 0.5rem 0 0.25rem;
    }
    
    .subtitle {
      font-size: 0.75rem;
      color: #8e8e93;
      margin-bottom: 0.25rem;
      font-weight: 500;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }
    
    .author {
      font-size: 0.625rem;
      color: #636366;
      font-weight: 400;
      letter-spacing: 0.02em;
    }
    
    .card-container {
      perspective: 1500px;
      margin-bottom: 0.75rem;
      background: rgba(28, 28, 30, 0.85);
      backdrop-filter: blur(40px) saturate(150%);
      -webkit-backdrop-filter: blur(40px) saturate(150%);
      border: 1.5px solid rgba(201, 169, 97, 0.25);
      border-radius: 1.5rem;
      padding: 1.5rem;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
      height: calc(100vh - 240px);
      overflow: visible;
    }
    
    .card {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      pointer-events: none;
    }
    
    .card > * {
      pointer-events: auto;
    }
    
    .card.flipped {
      transform: rotateY(180deg);
    }
    
    .card-face {
      width: 100%;
      height: 100%;
      position: absolute;
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
      background: transparent;
      border: none;
      border-radius: 1.5rem;
      padding: 0 1rem 0 0.5rem;
      display: flex;
      flex-direction: column;
      box-shadow: none;
      overflow-y: scroll;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
      scroll-behavior: smooth;
      max-width: 100%;
      box-sizing: border-box;
      contain: layout style paint;
    }
    
    .card-face::-webkit-scrollbar { 
      width: 8px; 
      display: block;
    }
    
    .card-face::-webkit-scrollbar-track { 
      background: rgba(28, 28, 30, 0.3);
      border-radius: 4px;
    }
    
    .card-face::-webkit-scrollbar-thumb {
      background: rgba(201, 169, 97, 0.4);
      border-radius: 4px;
      transition: background 0.2s ease;
    }
    
    .card-face::-webkit-scrollbar-thumb:hover { 
      background: rgba(201, 169, 97, 0.6); 
    }
    
    @supports (-webkit-touch-callout: none) {
      .card-face {
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch;
      }
    }
    
    .card-front {
      z-index: 2;
      pointer-events: auto;
    }
    
    .card-back {
      transform: rotateY(180deg);
      max-width: 100%;
      box-sizing: border-box;
      z-index: 1;
      pointer-events: none;
    }
    
    .card.flipped .card-front {
      z-index: 1;
      pointer-events: none;
    }
    
    .card.flipped .card-back {
      z-index: 2;
      pointer-events: auto;
    }
    
    .card-label {
      font-size: 0.7rem;
      color: #636366;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 0.75rem;
      font-weight: 600;
      text-align: center;
    }
    
    .rule-badge {
      display: inline-block;
      padding: 0.375rem 1rem;
      background: rgba(201, 169, 97, 0.15);
      border: 1px solid rgba(201, 169, 97, 0.3);
      border-radius: 1.5rem;
      font-size: 0.7rem;
      color: #C9A961;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-weight: 600;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .rule-icon {
      font-size: 2.5rem;
      text-align: center;
      margin-bottom: 1rem;
    }

    .rule-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: #C9A961;
      text-align: center;
      margin-bottom: 1.5rem;
      line-height: 1.3;
    }

    .rule-content {
      flex-grow: 1;
      padding-bottom: 6rem;
    }

    .rule-section {
      margin-bottom: 1.5rem;
      padding: 1.25rem;
      background: rgba(201, 169, 97, 0.08);
      border: 1px solid rgba(201, 169, 97, 0.2);
      border-radius: 0.75rem;
    }

    .rule-section-title {
      font-size: 0.75rem;
      color: #8e8e93;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.75rem;
      font-weight: 600;
    }

    .rule-text {
      font-size: 0.95rem;
      line-height: 1.7;
      color: #d1d1d6;
      margin-bottom: 0.75rem;
    }

    .rule-structure {
      font-family: 'Space Grotesk', monospace;
      font-size: 0.9rem;
      color: #C9A961;
      background: rgba(201, 169, 97, 0.1);
      padding: 0.75rem 1rem;
      border-radius: 0.5rem;
      margin: 0.75rem 0;
      border-left: 3px solid #C9A961;
    }

    .rule-example {
      font-size: 0.875rem;
      color: #b8b8bb;
      font-style: italic;
      margin: 0.5rem 0;
      padding-left: 1rem;
      border-left: 2px solid rgba(201, 169, 97, 0.3);
    }

    .examples-content {
      flex-grow: 1;
      padding-bottom: 6rem;
    }

    .example-item {
      margin-bottom: 1.75rem;
      padding: 1.25rem;
      background: rgba(201, 169, 97, 0.05);
      border: 1px solid rgba(201, 169, 97, 0.2);
      border-radius: 0.75rem;
    }

    .example-number {
      font-size: 0.7rem;
      color: #636366;
      font-weight: 600;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .example-original {
      font-size: 0.85rem;
      color: #8e8e93;
      margin-bottom: 0.5rem;
      font-style: italic;
    }

    .example-keyword {
      display: inline-block;
      padding: 0.2rem 0.6rem;
      background: rgba(201, 169, 97, 0.2);
      border: 1px solid rgba(201, 169, 97, 0.3);
      border-radius: 0.75rem;
      font-size: 0.7rem;
      color: #C9A961;
      font-weight: 600;
      margin-bottom: 0.75rem;
    }

    .example-transformation {
      font-size: 0.95rem;
      line-height: 1.8;
      color: #d1d1d6;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .inserted-answer {
      color: #C9A961;
      font-weight: 600;
      font-family: 'Space Grotesk', sans-serif;
      letter-spacing: 0.01em;
    }
    
    .card-hint {
      font-size: 0.8rem;
      color: #8e8e93;
      margin-top: auto;
      padding: 0.75rem 1.5rem;
      background: rgba(201, 169, 97, 0.08);
      border-radius: 0.75rem;
      border: 1px solid rgba(201, 169, 97, 0.2);
      text-align: center;
      pointer-events: none;
      flex-shrink: 0;
      position: sticky;
      bottom: 0;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }
    
    .controls {
      display: flex;
      flex-direction: row;
      gap: 1.5rem;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .arrow {
      width: 3.5rem;
      height: 3.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(28, 28, 30, 0.85);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(201, 169, 97, 0.25);
      border-radius: 0.75rem;
      font-size: 1.5rem;
      color: #8e8e93;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
    }
    
    .arrow:hover {
      background: rgba(28, 28, 30, 0.95);
      color: #C9A961;
      border-color: rgba(201, 169, 97, 0.4);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(201, 169, 97, 0.2);
    }
    
    .nav-dots {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
      max-width: 100%;
    }
    
    .dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(201, 169, 97, 0.2);
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid rgba(201, 169, 97, 0.3);
    }
    
    .dot:hover {
      transform: scale(1.4);
      background: rgba(201, 169, 97, 0.4);
    }
    
    .dot.active {
      background: linear-gradient(135deg, #C9A961, rgba(201, 169, 97, 0.8));
      box-shadow: 0 0 12px rgba(201, 169, 97, 0.6);
      transform: scale(1.3);
    }
    
    @media (max-width: 768px) {
      body {
        padding: 0.5rem;
      }
      
      .nav-title {
        font-size: 1.25rem;
      }
      
      .nav-link {
        font-size: 0.75rem;
      }
      
      .subtitle {
        font-size: 0.7rem;
      }
      
      .author {
        font-size: 0.6rem;
      }
      
      .card-container {
        padding: 1rem;
      }
      
      .rule-title {
        font-size: 1.1rem;
      }
      
      .rule-text {
        font-size: 0.85rem;
      }
      
      .example-transformation {
        font-size: 0.85rem;
      }
      
      .arrow {
        width: 3rem;
        height: 3rem;
      }
      
      .nav-dots {
        gap: 0.4rem;
      }
      
      .dot {
        width: 10px;
        height: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="background"></div>
  
  <div class="container">
    <div class="top-nav">
      <div class="nav-left">
        <a href="index.html" class="nav-link">‚Üê Home</a>
      </div>
      <div class="nav-center">
        <div class="nav-title">INTUITY</div>
      </div>
    </div>
    
    <header>
      <p class="subtitle">Grammar Rules Made Simple</p>
      <p class="author">Majid Nashtai ¬∑ B2 First Conditionals</p>
    </header>
    
    <div class="card-container">
      <div class="card" id="card">
        <div class="card-face card-front">
          <div class="card-label">GRAMMAR RULE</div>
          <div style="text-align: center;">
            <span class="rule-badge" id="ruleBadge"></span>
          </div>
          
          <div class="rule-icon" id="ruleIcon"></div>
          <div class="rule-title" id="ruleTitle"></div>
          
          <div class="rule-content" id="ruleContent"></div>
          
          <div class="card-hint">üí° Click to see practice examples</div>
        </div>
        
        <div class="card-face card-back">
          <div class="card-label">PRACTICE EXAMPLES</div>
          <div style="text-align: center; margin-bottom: 1.5rem;">
            <span class="rule-badge" id="ruleBadgeBack"></span>
          </div>

          <div class="examples-content" id="examplesContent"></div>
          
          <div class="card-hint">üí° Click to see rule again</div>
        </div>
      </div>
    </div>
    
    <div class="controls">
      <div class="arrow" onclick="prevCard(); event.stopPropagation();">‚Üê</div>
      <div class="nav-dots" id="navDots"></div>
      <div class="arrow" onclick="nextCard(); event.stopPropagation();">‚Üí</div>
    </div>
  </div>

  <script>
    const rulesData = [
      {
        id: "past-regrets",
        badge: "Conditionals ¬∑ Wishes",
        icon: "üí≠",
        title: "Wishing Things Were Different",
        sections: [
          {
            sectionTitle: "When to use",
            text: "When you want to express regret about the past or wish the present was different."
          },
          {
            sectionTitle: "Structure",
            structure: "wish + past perfect (for past regrets)",
            examples: [
              "I didn't study ‚Üí I wish I had studied",
              "She didn't call ‚Üí She wishes she had called"
            ]
          },
          {
            sectionTitle: "Present wishes",
            structure: "wish + past simple (for present situations)",
            examples: [
              "I don't live near you ‚Üí I wish I lived near you",
              "He can't swim ‚Üí He wishes he could swim"
            ]
          }
        ],
        examples: [
          {
            original: "I regret not telling you the truth earlier.",
            keyword: "wish",
            before: "I ",
            answer: "wish I had told",
            after: " you the truth earlier."
          },
          {
            original: "I'm sorry I didn't accept their offer.",
            keyword: "wish",
            before: "I ",
            answer: "wish I had accepted",
            after: " their offer."
          },
          {
            original: "It's a pity my sister doesn't live closer to us.",
            keyword: "wish",
            before: "I ",
            answer: "wish my sister lived",
            after: " closer to us."
          },
          {
            original: "I should have listened to your advice.",
            keyword: "only",
            before: "",
            answer: "If only I had listened",
            after: " to your advice."
          },
          {
            original: "I'm sorry I didn't go to the party.",
            keyword: "wish",
            before: "I ",
            answer: "wish I had gone",
            after: " to the party."
          }
        ]
      },
      {
        id: "conditions-alternatives",
        badge: "Conditionals ¬∑ Alternatives",
        icon: "üîÑ",
        title: "Other Ways to Express Conditions",
        sections: [
          {
            sectionTitle: "Unless (if not)",
            text: "Unless means 'if not' or 'except if'. Use it to express a negative condition."
          },
          {
            sectionTitle: "Structure",
            structure: "unless + positive verb",
            examples: [
              "You won't pass if you don't study ‚Üí You won't pass unless you study",
              "I can't help if you don't ask ‚Üí I can't help unless you ask"
            ]
          },
          {
            sectionTitle: "Provided / As long as",
            text: "These mean 'only if' or 'on the condition that'.",
            structure: "provided/as long as + condition",
            examples: [
              "We'll go if the weather is good ‚Üí We'll go provided the weather is good",
              "She'll help if you ask ‚Üí She'll help as long as you ask"
            ]
          }
        ],
        examples: [
          {
            original: "You should practise more if you want to improve.",
            keyword: "unless",
            before: "You won't improve ",
            answer: "unless you practise",
            after: " more."
          },
          {
            original: "You'll miss the train if you don't hurry up.",
            keyword: "unless",
            before: "You'll miss the train ",
            answer: "unless you hurry",
            after: " up."
          },
          {
            original: "We might have won if we had trained harder.",
            keyword: "provided",
            before: "We might have won ",
            answer: "provided we had trained",
            after: " harder."
          },
          {
            original: "She would help you if you asked her.",
            keyword: "long",
            before: "She would help you ",
            answer: "as long as you asked",
            after: " her."
          },
          {
            original: "You won't pass the test if you don't revise properly.",
            keyword: "unless",
            before: "You won't pass the test ",
            answer: "unless you revise",
            after: " properly."
          }
        ]
      },
      {
        id: "hypothetical-situations",
        badge: "Conditionals ¬∑ Second & Third",
        icon: "ü§î",
        title: "Imagining Different Situations",
        sections: [
          {
            sectionTitle: "Imagining now (Second Conditional)",
            text: "Talk about imaginary or unlikely situations in the present or future."
          },
          {
            sectionTitle: "Structure",
            structure: "if + past simple, would + infinitive",
            examples: [
              "If I won the lottery, I would travel the world",
              "If she knew the answer, she would tell you"
            ]
          },
          {
            sectionTitle: "Imagining the past differently (Third Conditional)",
            text: "Talk about situations in the past that didn't happen.",
            structure: "if + past perfect, would have + past participle",
            examples: [
              "If I had studied, I would have passed",
              "If we had left earlier, we wouldn't have been late"
            ]
          }
        ],
        examples: [
          {
            original: "We would have arrived on time if someone had told us earlier.",
            keyword: "supposing",
            before: "We would have arrived on time ",
            answer: "supposing someone had told",
            after: " us earlier."
          },
          {
            original: "They would have helped us if we had asked them.",
            keyword: "long",
            before: "They would have helped us ",
            answer: "as long as we had asked",
            after: " them."
          },
          {
            original: "We wouldn't have got lost if I had brought the map.",
            keyword: "long",
            before: "We wouldn't have got lost ",
            answer: "as long as I had brought",
            after: " the map."
          },
          {
            original: "We might have succeeded if we had tried harder.",
            keyword: "supposing",
            before: "We might have succeeded ",
            answer: "supposing we had tried",
            after: " harder."
          },
          {
            original: "They wouldn't have failed if they had studied harder.",
            keyword: "long",
            before: "They wouldn't have failed ",
            answer: "as long as they had studied",
            after: " harder."
          }
        ]
      },
      {
        id: "formal-inversion",
        badge: "Conditionals ¬∑ Advanced",
        icon: "‚ú®",
        title: "Formal & Polite Ways",
        sections: [
          {
            sectionTitle: "Formal suggestions (were to)",
            text: "Use 'were to' for formal or polite suggestions about the future."
          },
          {
            sectionTitle: "Structure",
            structure: "it would be... if + subject + were to + infinitive",
            examples: [
              "It would be better if we left now ‚Üí It would be better if we were to leave now",
              "It would be nice if we met ‚Üí It would be nice if we were to meet"
            ]
          },
          {
            sectionTitle: "Alternative (without 'if')",
            text: "You can also invert the subject and verb for a more formal style.",
            structure: "were + subject + to + infinitive",
            examples: [
              "If we were to leave ‚Üí Were we to leave",
              "If they were to arrive ‚Üí Were they to arrive"
            ]
          }
        ],
        examples: [
          {
            original: "It would be better if we left now.",
            keyword: "were",
            before: "It would be better ",
            answer: "if we were to leave",
            after: " now."
          },
          {
            original: "It would be nice if we could meet more often.",
            keyword: "were",
            before: "It would be nice ",
            answer: "if we were to meet",
            after: " more often."
          },
          {
            original: "They would be happier if they moved to the countryside.",
            keyword: "were",
            before: "They would be happier ",
            answer: "if they were to move",
            after: " to the countryside."
          },
          {
            original: "It's a shame you can't come with us tomorrow.",
            keyword: "could",
            before: "I ",
            answer: "wish you could come",
            after: " with us tomorrow."
          },
          {
            original: "I'm disappointed that I can't speak French fluently.",
            keyword: "could",
            before: "I ",
            answer: "wish I could speak",
            after: " French fluently."
          }
        ]
      }
    ];

    let currentIndex = 0;
    let isFlipped = false;
    let touchStartY = 0;
    let touchStartTime = 0;
    let isScrolling = false;
    let lastTouchY = 0;

    function render() {
        const rule = rulesData[currentIndex];
      
      // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') {
        prevCard();
      } else if (e.key === 'ArrowRight') {
        nextCard();
      } else if (e.key === ' ' || e.key === 'Enter') {
        e.preventDefault();
        flipCard();
      }
    });

    // Touch event handlers for mobile
    const card = document.getElementById('card');
    const cardFront = document.querySelector('.card-front');
    const cardBack = document.querySelector('.card-back');
    
    // Click event for desktop
    cardFront.addEventListener('click', (e) => {
      if (!('ontouchstart' in window)) {
        flipCard();
      }
    });
    
    cardBack.addEventListener('click', (e) => {
      if (!('ontouchstart' in window)) {
        flipCard();
      }
    });
    
    // Touch handlers for mobile
    [cardFront, cardBack].forEach(face => {
      face.addEventListener('touchstart', (e) => {
        touchStartY = e.touches[0].clientY;
        lastTouchY = touchStartY;
        touchStartTime = Date.now();
        isScrolling = false;
      }, { passive: true });

      face.addEventListener('touchmove', (e) => {
        const touchMoveY = e.touches[0].clientY;
        const deltaY = Math.abs(touchMoveY - lastTouchY);
        
        if (deltaY > 5) {
          isScrolling = true;
        }
        lastTouchY = touchMoveY;
      }, { passive: true });

      face.addEventListener('touchend', (e) => {
        const touchDuration = Date.now() - touchStartTime;
        const totalDelta = Math.abs(lastTouchY - touchStartY);
        
        if (touchDuration < 200 && totalDelta < 10 && !isScrolling) {
          flipCard();
        }
        
        setTimeout(() => {
          isScrolling = false;
        }, 100);
      }, { passive: true });
    });

    // Initialize
    render(); Front side
     document.getElementById('ruleBadge').textContent = rule.badge;
      document.getElementById('ruleIcon').textContent = rule.icon;
      document.getElementById('ruleTitle').textContent = rule.title;
      
      // Render rule sections
      let ruleHTML = '';
      rule.sections.forEach(section => {
        ruleHTML += `
          <div class="rule-section">
            <div class="rule-section-title">${section.sectionTitle}</div>
            ${section.text ? `<div class="rule-text">${section.text}</div>` : ''}
            ${section.structure ? `<div class="rule-structure">${section.structure}</div>` : ''}
            ${section.examples ? section.examples.map(ex => `<div class="rule-example">${ex}</div>`).join('') : ''}
          </div>
        `;
      });
      document.getElementById('ruleContent').innerHTML = ruleHTML;
      
      // Back side
      document.getElementById('ruleBadgeBack').textContent = rule.badge;
      
      // Render examples with inserted answers
      let examplesHTML = '';
      rule.examples.forEach((example, index) => {
        examplesHTML += `
          <div class="example-item">
            <div class="example-number">Example ${index + 1}</div>
            <div class="example-original">${example.original}</div>
            <span class="example-keyword">${example.keyword}</span>
            <div class="example-transformation">
              ${example.before}<span class="inserted-answer">${example.answer}</span>${example.after}
            </div>
          </div>
        `;
      });
      document.getElementById('examplesContent').innerHTML = examplesHTML;
      
      updateDots();
    }

    function flipCard() {
      if (isScrolling) return;
      
      const card = document.getElementById('card');
      isFlipped = !isFlipped;
      if (isFlipped) {
        card.classList.add('flipped');
      } else {
        card.classList.remove('flipped');
      }
    }

    function unflipCard() {
      const card = document.getElementById('card');
      card.classList.remove('flipped');
      isFlipped = false;
    }

    function nextCard() {
      if (currentIndex < rulesData.length - 1) {
        unflipCard();
        currentIndex++;
        render();
      }
    }

    function prevCard() {
      if (currentIndex > 0) {
        unflipCard();
        currentIndex--;
        render();
      }
    }

    function goTo(index) {
      unflipCard();
      currentIndex = index;
      render();
    }

    function updateDots() {
      const dotsContainer = document.getElementById('navDots');
      let html = '';
      
      for (let i = 0; i < rulesData.length; i++) {
        let classes = 'dot';
        if (i === currentIndex) classes += ' active';
        
        html += `<div class="${classes}" onclick="goTo(${i}); event.stopPropagation();"></div>`;
      }
      
      dotsContainer.innerHTML = html;
    }

    //
