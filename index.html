<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>INTUITY - Cambridge B2</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'DM Sans', 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
      background: #0d0d0d;
      color: white;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
    }

    .background {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(circle at 30% 20%, rgba(201, 169, 97, 0.08) 0%, transparent 50%),
                  radial-gradient(circle at 70% 80%, rgba(201, 169, 97, 0.06) 0%, transparent 45%),
                  radial-gradient(circle at 20% 70%, rgba(201, 169, 97, 0.04) 0%, transparent 60%),
                  #0d0d0d;
      z-index: 0;
      overflow: hidden;
    }

    .elegant-curves {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
    }

    .curve-elegant {
      position: absolute;
      border-radius: 50%;
      filter: blur(1px);
    }

    .curve-elegant-1 {
      width: 300px;
      height: 600px;
      top: -200px;
      right: -100px;
      border: 1.5px solid rgba(201, 169, 97, 0.18);
      background: linear-gradient(135deg, 
        rgba(201, 169, 97, 0.06) 0%, 
        rgba(201, 169, 97, 0.04) 50%, 
        transparent 100%);
      transform: rotate(25deg);
      animation: floatElegant 12s ease-in-out infinite;
    }

    .curve-elegant-2 {
      width: 400px;
      height: 800px;
      bottom: -300px;
      left: -150px;
      border: 1px solid rgba(201, 169, 97, 0.15);
      background: linear-gradient(135deg, 
        rgba(201, 169, 97, 0.05) 0%, 
        transparent 60%);
      transform: rotate(-20deg);
      animation: floatElegant 15s ease-in-out infinite reverse;
    }

    .curve-elegant-3 {
      width: 250px;
      height: 500px;
      top: 30%;
      right: 5%;
      border: 1px solid rgba(201, 169, 97, 0.13);
      background: linear-gradient(135deg, 
        rgba(201, 169, 97, 0.045) 0%, 
        transparent 70%);
      transform: rotate(45deg);
      animation: driftElegant 18s ease-in-out infinite;
    }

    @keyframes floatElegant {
      0%, 100% { 
        transform: translateY(0) rotate(var(--base-rotation, 0deg));
        opacity: 1;
      }
      50% { 
        transform: translateY(-20px) rotate(calc(var(--base-rotation, 0deg) + 2deg));
        opacity: 0.7;
      }
    }

    @keyframes driftElegant {
      0%, 100% { 
        transform: translate(0, 0) rotate(45deg);
      }
      33% { 
        transform: translate(10px, -15px) rotate(47deg);
      }
      66% { 
        transform: translate(-5px, -10px) rotate(43deg);
      }
    }

    .curve-elegant-1 { --base-rotation: 25deg; }
    .curve-elegant-2 { --base-rotation: -20deg; }

    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.01'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 1;
    }

    .container { 
      max-width: 400px; 
      margin: 0 auto; 
      position: relative;
      z-index: 2;
      padding: 0 1rem;
    }

    .header { 
      text-align: center; 
      margin-bottom: 2rem;
      padding: 1.25rem 0 1rem;
    }

    .header h1 {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2.25rem; 
      font-weight: 700; 
      color: #C9A961;
      margin-bottom: 0.5rem; 
      letter-spacing: -0.04em;
      text-transform: uppercase;
      background: linear-gradient(135deg, #C9A961 0%, rgba(201, 169, 97, 0.8) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header .subtitle { 
      font-size: 0.8125rem; 
      color: #8e8e93; 
      margin-bottom: 0.375rem; 
      font-weight: 500;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .header .author { 
      font-size: 0.6875rem; 
      color: #636366; 
      font-weight: 400;
      letter-spacing: 0.02em;
    }

    .skill-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      column-gap: 1.15rem;
      row-gap: 2rem;
      padding: 0 0.5rem 1.5rem;
      max-width: 400px;
      margin: 0 auto;
    }

    .skill-folder {
      aspect-ratio: 1.1;
      background: rgba(28, 28, 30, 0.6);
      backdrop-filter: blur(40px) saturate(150%);
      -webkit-backdrop-filter: blur(40px) saturate(150%);
      border-radius: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 2px 8px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(84, 84, 88, 0.25);
      width: 85%;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
    }

    @media (max-width: 640px) {
      .skill-grid {
        column-gap: 1.5rem;
        row-gap: 2.25rem;
        padding: 0 0.75rem 1.5rem;
      }

      .skill-folder {
        width: 68%;
        border-radius: 1.25rem;
      }

      .skill-title {
        font-size: 0.6875rem;
      }

      .options-grid {
        column-gap: 1.75rem;
        row-gap: 2rem;
        padding: 0.75rem 0;
      }

      .option-btn {
        width: 68%;
        border-radius: 1.125rem;
        font-size: 0.625rem;
        padding: 0.5rem;
      }
    }

    .skill-folder::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(201, 169, 97, 0.1), transparent);
      transition: left 0.5s;
    }

    .skill-folder:hover::before {
      left: 100%;
    }

    .skill-folder:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 12px 40px rgba(201, 169, 97, 0.2),
                  0 0 0 1px rgba(201, 169, 97, 0.3),
                  0 4px 16px rgba(0, 0, 0, 0.3);
      border-color: rgba(201, 169, 97, 0.4);
    }

    .skill-title {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.04em;
      color: #e5e5e7;
      text-align: center;
      line-height: 1.4;
      text-transform: uppercase;
      z-index: 1;
      position: relative;
      padding: 0 0.75rem;
    }

    /* Modal System */
    .floating-box {
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
      background: rgba(28, 28, 30, 0.98);
      backdrop-filter: blur(60px) saturate(180%);
      -webkit-backdrop-filter: blur(60px) saturate(180%);
      border: 1px solid rgba(84, 84, 88, 0.4);
      border-radius: 1.5rem;
      padding: 1.75rem 1.25rem 2rem 1.25rem;
      max-width: 400px;
      width: 92%;
      max-height: 82vh;
      overflow-y: auto;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      box-shadow: 0 25px 50px rgba(0,0,0,0.6), 0 8px 24px rgba(0, 0, 0, 0.4);
    }
    
    .floating-box.large {
      max-height: 88vh;
      padding: 1.5rem 1.25rem 1.75rem 1.25rem;
    }

    .floating-box.show {
      opacity: 1;
      visibility: visible;
      transform: translate(-50%, -50%) scale(1);
    }
    
    .floating-box-inner {
      position: relative;
      z-index: 1;
    }

    .modal-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .modal-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    .modal-header {
      text-align: center;
      margin-bottom: 1.25rem;
      padding-bottom: 0.625rem;
      border-bottom: 1px solid rgba(84, 84, 88, 0.3);
    }

    .modal-title {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1rem;
      font-weight: 600;
      color: #C9A961;
      letter-spacing: 0.01em;
      text-transform: uppercase;
      background: linear-gradient(135deg, #C9A961 0%, rgba(201, 169, 97, 0.8) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .options-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
      column-gap: 2rem;
      row-gap: 2.1rem;
      padding: 0.5rem 0;
    }

    .option-btn {
      aspect-ratio: 1.1;
      background: rgba(28, 28, 30, 0.6);
      backdrop-filter: blur(40px) saturate(150%);
      -webkit-backdrop-filter: blur(40px) saturate(150%);
      border-radius: 1.35rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.675rem;
      font-weight: 600;
      letter-spacing: 0.03em;
      text-align: center;
      padding: 0.6rem;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 6px 24px rgba(0, 0, 0, 0.4), 0 2px 8px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(84, 84, 88, 0.25);
      color: #e5e5e7;
      line-height: 1.6;
      width: 93.75%;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
    }

    .option-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(201, 169, 97, 0.15), transparent);
      transition: left 0.5s;
    }

    .option-btn:hover::before {
      left: 100%;
    }

    .option-btn:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 10px 32px rgba(201, 169, 97, 0.25),
                  0 0 0 1px rgba(201, 169, 97, 0.3),
                  0 4px 16px rgba(0, 0, 0, 0.3);
      border-color: rgba(201, 169, 97, 0.4);
      color: #ffffff;
    }

    .close-btn {
      position: absolute;
      top: 0.75rem; right: 0.75rem;
      border: none;
      background: rgba(28, 28, 30, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: 50%;
      width: 2rem; height: 2rem;
      color: #8e8e93;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
      border: 0.5px solid rgba(84, 84, 88, 0.3);
      z-index: 2;
      font-size: 1.25rem;
      line-height: 1;
    }

    .close-btn:hover {
      transform: scale(1.05);
      color: #e5e5e7;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
      border-color: rgba(84, 84, 88, 0.4);
      background: rgba(28, 28, 30, 0.95);
    }

    .floating-box::-webkit-scrollbar { width: 6px; }
    .floating-box::-webkit-scrollbar-track { background: transparent; }
    .floating-box::-webkit-scrollbar-thumb {
      background: rgba(99, 99, 102, 0.3);
      border-radius: 6px;
      transition: background 0.2s ease;
    }
    .floating-box::-webkit-scrollbar-thumb:hover { 
      background: rgba(99, 99, 102, 0.5); 
    }

    /* Review Studio Integration Styles */
    .review-studio-content {
      display: none;
    }

    .review-studio-content.active {
      display: block;
    }

    .tab-nav {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1.25rem;
      padding: 0.375rem;
      background: rgba(28, 28, 30, 0.4);
      border-radius: 0.75rem;
      border: 1px solid rgba(84, 84, 88, 0.2);
    }

    .tab-nav-btn {
      flex: 1;
      padding: 0.5rem 0.75rem;
      background: transparent;
      border: none;
      color: #8e8e93;
      font-size: 0.625rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.03em;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-family: 'DM Sans', sans-serif;
    }

    .tab-nav-btn.active {
      background: rgba(201, 169, 97, 0.15);
      color: #C9A961;
      box-shadow: 0 2px 8px rgba(201, 169, 97, 0.1);
    }

    .expression-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-top: 0.75rem;
    }

    .expression-btn {
      background: rgba(28, 28, 30, 0.5);
      border: 1px solid rgba(84, 84, 88, 0.2);
      border-radius: 0.75rem;
      padding: 0.625rem 0.75rem;
      color: #e5e5e7;
      font-size: 0.6875rem;
      line-height: 1.4;
      text-align: left;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-family: 'DM Sans', sans-serif;
    }

    .expression-btn:hover {
      background: rgba(201, 169, 97, 0.1);
      border-color: rgba(201, 169, 97, 0.3);
      transform: translateX(4px);
    }

    .section-label {
      font-size: 0.75rem;
      font-weight: 700;
      color: #C9A961;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      margin-top: 1rem;
      margin-bottom: 0.5rem;
    }

    .builder-select {
      appearance: none;
      background: rgba(28, 28, 30, 0.6);
      border: 1px solid rgba(84, 84, 88, 0.25);
      border-radius: 0.5rem;
      color: #e5e5e7;
      padding: 0.5rem 0.75rem;
      font-size: 0.6875rem;
      width: 100%;
      margin-bottom: 0.75rem;
      cursor: pointer;
      transition: all 0.3s;
      font-family: 'DM Sans', sans-serif;
    }

    .builder-select:focus {
      outline: none;
      border-color: rgba(201, 169, 97, 0.4);
      background: rgba(28, 28, 30, 0.8);
    }

    .builder-preview {
      background: rgba(28, 28, 30, 0.4);
      border: 1px solid rgba(84, 84, 88, 0.2);
      border-radius: 0.75rem;
      padding: 1rem;
      margin-top: 1rem;
      font-size: 0.6875rem;
      line-height: 1.6;
      color: #e5e5e7;
    }

    .copy-action-btn {
      background: rgba(201, 169, 97, 0.15);
      border: 1px solid rgba(201, 169, 97, 0.3);
      border-radius: 0.75rem;
      padding: 0.625rem 1rem;
      color: #C9A961;
      font-size: 0.6875rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      width: 100%;
      margin-top: 0.75rem;
      font-family: 'DM Sans', sans-serif;
    }

    .copy-action-btn:hover {
      background: rgba(201, 169, 97, 0.25);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(201, 169, 97, 0.2);
    }

    .sample-box {
      background: rgba(28, 28, 30, 0.5);
      border: 1px solid rgba(84, 84, 88, 0.2);
      border-radius: 0.75rem;
      padding: 0.75rem;
      margin-bottom: 0.75rem;
    }

    .sample-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .sample-title {
      font-size: 0.75rem;
      font-weight: 700;
      color: #C9A961;
    }

    .sample-text {
      font-size: 0.6875rem;
      line-height: 1.6;
      color: #e5e5e7;
      display: none;
    }

    .sample-text.expanded {
      display: block;
    }

    .expand-btn {
      background: rgba(201, 169, 97, 0.1);
      border: 1px solid rgba(201, 169, 97, 0.2);
      border-radius: 0.5rem;
      padding: 0.25rem 0.5rem;
      color: #C9A961;
      font-size: 0.625rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .expand-btn:hover {
      background: rgba(201, 169, 97, 0.2);
    }
  </style>
</head>
<body>
  <div class="background">
    <div class="elegant-curves">
      <div class="curve-elegant curve-elegant-1"></div>
      <div class="curve-elegant curve-elegant-2"></div>
      <div class="curve-elegant curve-elegant-3"></div>
    </div>
  </div>
  <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)"></div>

  <div class="container">
    <div class="header">
      <h1>INTUITY</h1>
      <p class="subtitle">Intuitive & Immersive Learning</p>
      <p class="author">by Majid Nashtai</p>
    </div>

    <div class="skill-grid">
      <div class="skill-folder" onclick="openSkillModal('grammar')">
        <div class="skill-title">Grammar Rules</div>
      </div>
      <div class="skill-folder" onclick="openSkillModal('vocabulary')">
        <div class="skill-title">Vocabulary</div>
      </div>
      <div class="skill-folder" onclick="openSkillModal('english')">
        <div class="skill-title">Use of English</div>
      </div>
      <div class="skill-folder" onclick="openSkillModal('reading')">
        <div class="skill-title">Reading</div>
      </div>
      <div class="skill-folder" onclick="openSkillModal('writing')">
        <div class="skill-title">Writing</div>
      </div>
      <div class="skill-folder" onclick="openSkillModal('speaking')">
        <div class="skill-title">Speaking</div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="floating-box" id="modalBox">
    <div class="floating-box-inner" onclick="event.stopPropagation()">
      <button class="close-btn" onclick="closeModal()">×</button>
      <div class="modal-header">
        <div class="modal-title" id="modalTitle">Grammar Rules</div>
      </div>
      <div id="topicsView">
        <div class="options-grid" id="optionsGrid"></div>
      </div>
    </div>
  </div>

  <!-- Review Studio Modal -->
  <div class="floating-box large" id="reviewStudioModal">
    <div class="floating-box-inner" onclick="event.stopPropagation()">
      <button class="close-btn" onclick="closeReviewStudio()">×</button>
      <div class="modal-header">
        <div class="modal-title">Review Writing Studio</div>
      </div>

      <!-- Tab Navigation -->
      <div class="tab-nav">
        <button class="tab-nav-btn active" onclick="switchReviewTab('expressions')">Expressions</button>
        <button class="tab-nav-btn" onclick="switchReviewTab('builder')">Builder</button>
        <button class="tab-nav-btn" onclick="switchReviewTab('samples')">Samples</button>
      </div>

      <!-- Expressions Panel -->
      <div id="expressionsPanel" class="review-studio-content active">
        <div class="section-label">Introduction</div>
        <div class="expression-list">
          <button class="expression-btn" onclick="copyExpression(this)">Choosing a restaurant can be a huge challenge; this one is regarded by locals as one of the finest in Funchal.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Built in the 1970s and known for its authentic Espetada, it has become a local landmark.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Perched near the old market, this restaurant is considered by many as the place to taste traditional espetada.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Tucked away in the heart of Funchal, it describes the island's flavours with confidence.</button>
          <button class="expression-btn" onclick="copyExpression(this)">When it comes to shopping in Funchal, this centre stands out as the most comprehensive destination.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Situated on the waterfront, this establishment has long been celebrated for its elegance and heritage.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Located in the city centre, this school is widely recognised as one of the leading institutions for language learning.</button>
          <button class="expression-btn" onclick="copyExpression(this)">If you are looking for authentic local experience, this venue will exceed your expectations.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Having heard so much about this place, I was eager to see whether it lived up to its reputation.</button>
          <button class="expression-btn" onclick="copyExpression(this)">What strikes you immediately is the attention to detail that characterises every aspect of the experience.</button>
        </div>

        <div class="section-label">Main Feature (Food/Facilities/Service)</div>
        <div class="expression-list">
          <button class="expression-btn" onclick="copyExpression(this)">What makes this espetada so remarkable is its balance of smoke, seasoning and pure beef flavour.</button>
          <button class="expression-btn" onclick="copyExpression(this)">By far one of the most tender espetadas I have ever had — each bite offers a near-perfect texture.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The dish is brilliant in its simplicity: laurel-wood char, sea salt and a hint of local honey.</button>
          <button class="expression-btn" onclick="copyExpression(this)">You will find that the seasoning elevates rather than masks the meat's natural character.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The range of shops is impressive, featuring everything from high-street brands to boutique designers.</button>
          <button class="expression-btn" onclick="copyExpression(this)">What particularly impressed me was the variety of dining options available throughout the centre.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The facilities are second to none — spacious, well-maintained and equipped with modern amenities.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The teaching methodology stands out for its communicative approach and personalised attention.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Classes are kept deliberately small, which allows for meaningful interaction and rapid progress.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The rooms themselves are beautifully appointed, combining period charm with contemporary comfort.</button>
        </div>

        <div class="section-label">Atmosphere/Décor/Environment</div>
        <div class="expression-list">
          <button class="expression-btn" onclick="copyExpression(this)">The décor characterises Madeira's spirit: warm timber, stone floors and comfortable seating.</button>
          <button class="expression-btn" onclick="copyExpression(this)">An appealing blend of rustic and refined elements gives the room a quietly sophisticated air.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The space is described as intimate yet airy, with careful attention to texture and light.</button>
          <button class="expression-btn" onclick="copyExpression(this)">It feels unique and special — every detail seems chosen to support the overall experience.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The interior exudes colonial elegance, with high ceilings, polished wood and tasteful period furnishings.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The atmosphere strikes the perfect balance between formal refinement and welcoming warmth.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Natural light floods through large windows, creating a bright and inspiring learning environment.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The layout is modern and intuitive, making navigation effortless even during busy periods.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Gardens surround the property, offering tranquil spaces that enhance the sense of escape.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Built in a traditional style, the interior feels rooted and honest, never contrived.</button>
        </div>

        <div class="section-label">Staff/Service</div>
        <div class="expression-list">
          <button class="expression-btn" onclick="copyExpression(this)">The staff are gracious and discreet — attentive without ever being overbearing.</button>
          <button class="expression-btn" onclick="copyExpression(this)">I was fortunate to meet a brilliant team whose professionalism is matched by genuine warmth.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Guests will find service efficient, informed and quietly confident.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Considered one of the restaurant's strengths, the front-of-house adds calm expertise to the meal.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Known for their friendly recommendations, the team makes each visit smoother.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The teachers demonstrate exceptional expertise, delivering lessons with clarity and enthusiasm.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Staff members go out of their way to ensure visitors feel welcomed and well-informed.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Service is consistently excellent — prompt, courteous and delivered with genuine care.</button>
          <button class="expression-btn" onclick="copyExpression(this)">What impressed me most was how staff anticipated needs without being intrusive.</button>
          <button class="expression-btn" onclick="copyExpression(this)">The reception team handled enquiries with impressive efficiency and multilingual competence.</button>
        </div>

        <div class="section-label">Recommendation/Conclusion</div>
        <div class="expression-list">
          <button class="expression-btn" onclick="copyExpression(this)">I highly recommend this restaurant for anyone who appreciates perfected, simple cooking.</button>
          <button class="expression-btn" onclick="copyExpression(this)">I can assure you that for anyone looking for a memorable espetada, this is a must.</button>
          <button class="expression-btn" onclick="copyExpression(this)">By far one of the most satisfying meals to be had in Funchal — book ahead.</button>
          <button class="expression-btn" onclick="copyExpression(this)">This is a place you cannot afford to miss if you value tradition done exceptionally well.</button>
          <button class="expression-btn" onclick="copyExpression(this)">Whether you are seeking shopping, dining or entertainment, this venue delivers on all fronts.</button>
          <button class="expression-btn" onclick="copyExpression(this)">For anyone serious about language learning, this school offers an unparalleled combination of quality and support.</button>
          <button class="expression-btn" onclick="copyExpression(this)">If you are planning a stay in Funchal, this hotel represents the finest choice for discerning travellers.</button>
          <button class="expression-btn" onclick="copyExpression(this)">All things considered, it thoroughly deserves its reputation and I would return without hesitation.</button>
          <button class="expression-btn" onclick="copyExpression(this)">In summary, this is an experience that combines excellence with authenticity in equal measure.</button>
          <button class="expression-btn" onclick="copyExpression(this)">I left feeling enriched by the experience and confident in recommending it to others.</button>
        </div>
      </div>

      <!-- Builder Panel -->
      <div id="builderPanel" class="review-studio-content">
        <div class="section-label">Introduction</div>
        <select class="builder-select" id="introSelect" onchange="updatePreview()">
          <option>Tucked away in the heart of Funchal, this Espetada restaurant</option>
          <option>Built in the 1970s and regarded by locals as one of the most iconic espetada houses</option>
          <option>Perched near the old market, the restaurant offers an authentic Espetada experience</option>
          <option>If you are looking for an authentic espetada, this place will not disappoint</option>
          <option>When it comes to shopping in Funchal, this centre stands out as the most comprehensive destination</option>
          <option>Situated on the waterfront, this establishment has long been celebrated for its elegance and heritage</option>
          <option>Located in the city centre, this school is widely recognised as one of the leading institutions</option>
          <option>Having heard so much about this place, I was eager to see whether it lived up to its reputation</option>
        </select>

        <div class="section-label">Main Feature</div>
        <select class="builder-select" id="foodSelect" onchange="updatePreview()">
          <option>serves skewered beef roasted over laurel wood, producing a smoky, caramelised crust that complements the tender meat</option>
          <option>offers by far one of the most tender espetadas I have ever had — generous, perfectly rested slices</option>
          <option>presents espetadas with a modern twist: precise seasoning, a glossy char and balanced sauces</option>
          <option>is brilliant in its simplicity: good meat, restrained seasoning, respectful technique</option>
          <option>houses over 80 shops spanning international brands, local boutiques and a well-curated food court</option>
          <option>features beautifully appointed rooms that combine period charm with contemporary comfort and spectacular views</option>
          <option>delivers high-quality language instruction through small classes and a genuinely communicative approach</option>
          <option>provides facilities that are second to none — spacious, well-maintained and equipped with modern amenities</option>
        </select>

        <div class="section-label">Atmosphere/Environment</div>
        <select class="builder-select" id="decorSelect" onchange="updatePreview()">
          <option>The décor characterises Madeira's rustic charm with timber beams and warm lighting</option>
          <option>An appealing blend of stone and wicker creates a quietly refined interior</option>
          <option>The space is described as intimate and authentic, simple yet elegant</option>
          <option>Clean lines and tactile materials give the room a restrained, modern warmth</option>
          <option>The interior exudes colonial elegance, with high ceilings, polished wood and tasteful period furnishings</option>
          <option>Natural light floods through large windows, creating a bright and inspiring environment</option>
          <option>The layout is modern and intuitive, making navigation effortless even during busy periods</option>
          <option>Gardens surround the property, offering tranquil spaces that enhance the sense of escape</option>
        </select>

        <div class="section-label">Staff/Service</div>
        <select class="builder-select" id="staffSelect" onchange="updatePreview()">
          <option>The staff are gracious and discreet — attentive without ever being overbearing</option>
          <option>I was fortunate to meet a team whose warmth and professionalism are equally impressive</option>
          <option>Guests will find the service efficient and genuinely welcoming</option>
          <option>Service is considered one of the restaurant's strengths: polite, timely and quietly effective</option>
          <option>The teachers demonstrate exceptional expertise, delivering lessons with clarity and enthusiasm</option>
          <option>Staff members go out of their way to ensure visitors feel welcomed and well-informed</option>
          <option>Service throughout is exemplary, delivered with unobtrusive professionalism and genuine care</option>
          <option>What impressed me most was how staff anticipated needs without being intrusive</option>
        </select>

        <div class="section-label">Recommendation</div>
        <select class="builder-select" id="recSelect" onchange="updatePreview()">
          <option>I highly recommend this restaurant for anyone who appreciates perfected, simple cooking</option>
          <option>I can assure you that for anyone looking for a memorable espetada, this is a must</option>
          <option>By far one of the most memorable dining experiences you will find in Funchal</option>
          <option>This is a restaurant you cannot afford to miss if you value tradition done exceptionally well</option>
          <option>Whether you are seeking shopping, dining or entertainment, this venue delivers on all fronts</option>
          <option>For anyone serious about language learning, this school offers an unparalleled combination of quality and support</option>
          <option>If you are planning a stay in Funchal, this hotel represents the finest choice for discerning travellers</option>
          <option>All things considered, it thoroughly deserves its reputation and I would return without hesitation</option>
        </select>

        <div class="section-label">Preview</div>
        <div class="builder-preview" id="builderPreview"></div>
        <button class="copy-action-btn" onclick="copyBuiltReview()">Copy Complete Review</button>
      </div>

      <!-- Samples Panel -->
      <div id="samplesPanel" class="review-studio-content">
        <div class="sample-box">
          <div class="sample-header">
            <div class="sample-title">Espetada — Restaurante do Mercado</div>
            <button class="expand-btn" onclick="toggleSample('sample1')">Expand</button>
          </div>
          <div class="sample-text" id="sample1">
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">Known for its authentic espetada,</strong> the restaurant continues to impress because the meat is carefully sourced and roasted over laurel wood — for example, the set menu pairs a brisket espetada with a smoky, caramelised crust that yields a tender bite. The result is deeply satisfying; compared with many tourist-focused spots, this one retains an honest, traditional flavour.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">What makes the food so special</strong> is the restrained seasoning which allows the beef's natural quality to shine — for instance, a simple brush of local honey in one dish enhanced the caramel notes. The outcome is a plate that feels both refined and homely; it contrasts with flashier restaurants where sauces mask the meat.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">The décor characterises Madeira's rustic warmth,</strong> with exposed beams and stone details — the wooden tables and low lighting create a comfortable scene. The effect is intimate and appealing; in contrast to contemporary minimalist venues, this space emphasises tradition.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">The staff are gracious and discreet,</strong> offering recommendations and timely service — for example, the waiter suggested a side that complemented the espetada perfectly. Guests will find the service enhances the meal; contrasted with rushed tourist eateries, the team here slows the pace to match the food.</p>
            
            <p><strong style="color:#C9A961">I highly recommend this restaurant</strong> for anyone seeking an authentic Madeiran meal: book ahead and arrive hungry, and you'll find a memorable dining experience. It's one of those places you won't regret visiting.</p>
            <button class="copy-action-btn" onclick="copySample('sample1')">Copy This Sample</button>
          </div>
        </div>

        <div class="sample-box">
          <div class="sample-header">
            <div class="sample-title">Film — Whispering Streets</div>
            <button class="expand-btn" onclick="toggleSample('sample2')">Expand</button>
          </div>
          <div class="sample-text" id="sample2">
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">Regarded by critics as one of the most daring works,</strong> the film succeeds because it combines bold visual choices with disciplined storytelling — for example, the sustained long-take in the second act creates tension while the sparse score restrains melodrama. The result is a haunting atmosphere; contrasted with conventional thrillers, it refuses easy catharsis.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">What makes the direction impressive</strong> is its confident restraint — a clear instance is the lead actor's silent performance that reveals a complex interior life. Viewers will find the subtlety rewarding; in comparison to blockbuster gestures, this film asks more of its audience.</p>
            
            <p><strong style="color:#C9A961">I can assure you that for anyone looking for thoughtful cinema,</strong> this title is a must — it lingers in memory and continues to provoke questions long after the credits roll.</p>
            <button class="copy-action-btn" onclick="copySample('sample2')">Copy This Sample</button>
          </div>
        </div>

        <div class="sample-box">
          <div class="sample-header">
            <div class="sample-title">Book — The Salt House</div>
            <button class="expand-btn" onclick="toggleSample('sample3')">Expand</button>
          </div>
          <div class="sample-text" id="sample3">
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">This novel is considered one of the quieter masterpieces,</strong> because the author uses a restrained voice to explore family memory — for example, a single chapter told through domestic details reveals a character's loss without melodrama. The result: emotional depth that accumulates slowly; contrasted with more explicit narratives, it rewards patience.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">The prose is remarkable</strong> for its precision and tactile description, which allows readers to appreciate small domestic objects as carriers of meaning. Many will find the book quietly profound; compared with sprawling epics, it concentrates power into modest pages.</p>
            
            <p><strong style="color:#C9A961">I can assure readers that if you are looking for a contemplative, beautifully written novel,</strong> this is a must-read.</p>
            <button class="copy-action-btn" onclick="copySample('sample3')">Copy This Sample</button>
          </div>
        </div>

        <div class="sample-box">
          <div class="sample-header">
            <div class="sample-title">Shopping Centre — Forum Madeira</div>
            <button class="expand-btn" onclick="toggleSample('sample4')">Expand</button>
          </div>
          <div class="sample-text" id="sample4">
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">When it comes to shopping in Funchal, Forum Madeira stands out</strong> because it combines a comprehensive retail offering with excellent facilities — for instance, the centre houses over 80 shops spanning international brands, local boutiques and a well-curated food court. The result is a one-stop destination; compared with smaller shopping areas, it offers far greater variety under one roof.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">What makes the experience particularly appealing</strong> is the modern, spacious layout which prevents the claustrophobic feeling common in urban malls — clear signage and intuitive design mean you can navigate easily even during peak hours. The outcome is stress-free shopping; in contrast to congested city-centre streets, this feels calm and organised.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">The atmosphere is welcoming and family-friendly,</strong> with natural light flooding through large skylights and comfortable seating areas throughout — the cinema and entertainment zone add recreational value beyond pure retail. The effect is a destination for all ages; contrasted with purely transactional shopping spaces, this encourages visitors to linger.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">Staff across various outlets are consistently helpful,</strong> offering assistance without pressure — for example, information desk personnel provided clear directions and recommendations in both Portuguese and English. Visitors will find service courteous and efficient; compared with less attentive venues, the human element here enhances the experience.</p>
            
            <p><strong style="color:#C9A961">Whether you are seeking fashion, electronics or simply a pleasant environment to spend an afternoon,</strong> Forum Madeira delivers on all fronts. It is conveniently located, well-maintained and offers genuine value — I would recommend it to anyone visiting Funchal.</p>
            <button class="copy-action-btn" onclick="copySample('sample4')">Copy This Sample</button>
          </div>
        </div>

        <div class="sample-box">
          <div class="sample-header">
            <div class="sample-title">Hotel — Reid's Palace</div>
            <button class="expand-btn" onclick="toggleSample('sample5')">Expand</button>
          </div>
          <div class="sample-text" id="sample5">
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">Situated on a clifftop overlooking the Atlantic, Reid's Palace has long been celebrated</strong> because it embodies a rare combination of colonial elegance and contemporary luxury — for example, the property has hosted royalty and literary figures since 1891, yet it continually updates facilities to meet modern expectations. The result is timeless sophistication; contrasted with soulless chain hotels, this feels genuinely distinguished.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">What particularly impressed me was the quality of the rooms,</strong> which feature high ceilings, period furnishings and balconies with spectacular ocean views — attention to detail extends from Egyptian cotton linens to carefully chosen artworks. The outcome is accommodation that feels both luxurious and authentic; in comparison to impersonal boutique hotels, Reid's offers substance alongside style.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">The gardens are magnificent,</strong> featuring subtropical plants, manicured lawns and dramatic coastal paths — the terraced design creates intimate spaces while preserving panoramic vistas. The effect is one of serene escape; contrasted with urban hotels, this provides a genuine retreat.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">Service throughout the hotel is exemplary,</strong> delivered with the kind of unobtrusive professionalism that only comes from long-established training — for instance, staff remembered preferences without being asked and offered thoughtful local recommendations. Guests will find the experience seamless; compared with hotels where service feels scripted, this demonstrates genuine care.</p>
            
            <p><strong style="color:#C9A961">If you are planning a stay in Funchal and value heritage, refinement and exceptional hospitality,</strong> Reid's Palace represents the finest choice. It is not inexpensive, but the quality justifies the investment — I left feeling the experience thoroughly merited its reputation.</p>
            <button class="copy-action-btn" onclick="copySample('sample5')">Copy This Sample</button>
          </div>
        </div>

        <div class="sample-box">
          <div class="sample-header">
            <div class="sample-title">Language School — ALM Language School</div>
            <button class="expand-btn" onclick="toggleSample('sample6')">Expand</button>
          </div>
          <div class="sample-text" id="sample6">
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">Located in central Funchal, ALM Language School is widely recognised</strong> because it delivers high-quality language instruction through a genuinely communicative approach — for instance, classes are capped at eight students, which allows for meaningful interaction and personalised feedback. The result is rapid, measurable progress; contrasted with larger academies, this feels focused and effective.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">What makes the teaching methodology stand out</strong> is its emphasis on real-world application rather than rote grammar — lessons incorporate authentic materials, role-plays and task-based activities that mirror everyday situations. The outcome is functional fluency; in comparison to traditional textbook approaches, students gain confidence using the language immediately.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">The facilities are modern and well-equipped,</strong> with bright classrooms, interactive whiteboards and a comfortable student lounge — natural light and thoughtful design create an environment conducive to learning. The atmosphere is informal yet professional; contrasted with institutional settings, this feels welcoming and motivating.</p>
            
            <p style="margin-bottom:0.5rem"><strong style="color:#C9A961">Teachers demonstrate exceptional expertise,</strong> holding recognised qualifications and bringing diverse international experience — for example, my instructor adjusted lesson content based on individual needs and learning styles without disrupting overall class flow. Students will find instruction clear, engaging and supportive; compared with less adaptive teaching, this respects different paces and preferences.</p>
            
            <p><strong style="color:#C9A961">For anyone serious about language learning in Madeira,</strong> ALM offers an unparalleled combination of quality teaching, small classes and practical focus. The school also organises cultural activities that enhance linguistic immersion — I would recommend it without reservation to learners at any level.</p>
            <button class="copy-action-btn" onclick="copySample('sample6')">Copy This Sample</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const skillData = {
      grammar: {
        title: 'Grammar Rules',
        options: [
          { name: 'Tenses', action: 'exercise', url: 'grammar/tenses' },
          { name: 'Comparatives', action: 'exercise', url: 'grammar/comparatives' },
          { name: 'Conditionals', action: 'exercise', url: 'grammar/conditionals' },
          { name: 'Passive Voice', action: 'exercise', url: 'grammar/passive' },
          { name: 'Reported Speech', action: 'exercise', url: 'grammar/reported' },
          { name: 'Linking Words', action: 'exercise', url: 'grammar/linking' },
          { name: 'Past Modals', action: 'exercise', url: 'grammar/modals' },
          { name: 'Inversion', action: 'exercise', url: 'grammar/inversion' },
          { name: 'Gerunds & Infinitives', action: 'exercise', url: 'grammar/gerunds' },
          { name: 'Phrasal Verbs', action: 'exercise', url: 'grammar/phrasal' },
          { name: 'Collocations', action: 'exercise', url: 'grammar/collocations' },
          { name: 'Miscellaneous', action: 'exercise', url: 'grammar/misc' }
        ]
      },
      vocabulary: {
        title: 'Vocabulary',
        options: [
          { name: 'Similar Words', action: 'navigate', url: 'skills/similar-words/vocabulary.html?json=../../datacentre/datasm-01.json' },
          { name: 'Collocations', action: 'navigate', url: 'skills/similar-words/vocabulary.html?json=../../datacentre/datacol-01.json' },
          { name: 'Phrasal Verbs', action: 'exercise', url: 'vocab/phrasal' },
          { name: 'Idioms', action: 'exercise', url: 'vocab/idioms' },
          { name: 'Useful Lists', action: 'exercise', url: 'vocab/lists' },
          { name: 'Academic Vocab', action: 'exercise', url: 'vocab/academic' }
        ]
      },
      english: {
        title: 'Use of English',
        options: [
          { name: 'Part 1<br>Multiple Choice', action: 'navigate', url: 'skills/use-of-english/multiple-choice/multiple-choice.html' },
          { name: 'Part 2<br>Open Cloze', action: 'navigate', url: 'skills/use-of-english/gap-fill/gap-fill.html' },
          { name: 'Part 3<br>Word Formation', action: 'navigate', url: 'skills/use-of-english/word-formation/word-formation.html' },
          { name: 'Part 4<br>Key Word Transform', action: 'navigate', url: 'skills/use-of-english/word-transformation.html' }
        ]
      },
      reading: {
        title: 'Reading Tests',
        options: [
          { name: 'Test 1', action: 'exercise', url: 'reading/test1' },
          { name: 'Test 2', action: 'exercise', url: 'reading/test2' },
          { name: 'Test 3', action: 'exercise', url: 'reading/test3' },
          { name: 'Test 4', action: 'exercise', url: 'reading/test4' }
        ]
      },
      writing: {
        title: 'Writing Practice',
        options: [
          { name: 'Review Writing<br>Studio', action: 'studio', url: 'review-studio' },
          { name: 'Essay Writing', action: 'exercise', url: 'writing/essay' },
          { name: 'Letter Writing', action: 'exercise', url: 'writing/letter' },
          { name: 'Report Writing', action: 'exercise', url: 'writing/report' }
        ]
      },
      speaking: {
        title: 'Speaking Practice',
        options: [
          { name: 'Part 1<br>Interview', action: 'exercise', url: 'speaking/interview' },
          { name: 'Part 2<br>Long Turn', action: 'exercise', url: 'speaking/long-turn' },
          { name: 'Part 3<br>Discussion', action: 'exercise', url: 'speaking/discussion' },
          { name: 'Part 4<br>General', action: 'exercise', url: 'speaking/general' }
        ]
      }
    };

    function openSkillModal(skill) {
      const data = skillData[skill];
      if (!data) return;
      
      document.getElementById('modalTitle').textContent = data.title;
      
      const grid = document.getElementById('optionsGrid');
      grid.innerHTML = '';
      
      data.options.forEach(option => {
        const btn = document.createElement('div');
        btn.className = 'option-btn';
        btn.innerHTML = option.name;
        
        btn.onclick = () => {
          if (option.action === 'studio') {
            closeModal();
            openReviewStudio();
          } else if (option.action === 'navigate') {
            window.location.href = option.url;
          } else if (option.action === 'exercise') {
            window.location.href = option.url;
          }
        };
        
        grid.appendChild(btn);
      });
      
      document.getElementById('modalOverlay').classList.add('show');
      document.getElementById('modalBox').classList.add('show');
    }

    function closeModal(event) {
      if (event && event.target !== document.getElementById('modalOverlay')) {
        return;
      }
      document.getElementById('modalOverlay').classList.remove('show');
      document.getElementById('modalBox').classList.remove('show');
    }

    // Review Studio Functions
    function openReviewStudio() {
      document.getElementById('modalOverlay').classList.add('show');
      document.getElementById('reviewStudioModal').classList.add('show');
      updatePreview();
    }

    function closeReviewStudio() {
      document.getElementById('modalOverlay').classList.remove('show');
      document.getElementById('reviewStudioModal').classList.remove('show');
    }

    function switchReviewTab(tab) {
      document.querySelectorAll('.tab-nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      document.querySelectorAll('.review-studio-content').forEach(panel => panel.classList.remove('active'));
      
      const panelMap = {
        expressions: 'expressionsPanel',
        builder: 'builderPanel',
        samples: 'samplesPanel'
      };
      
      document.getElementById(panelMap[tab]).classList.add('active');
    }

    function copyExpression(btn) {
      const text = btn.textContent;
      navigator.clipboard.writeText(text).then(() => {
        const original = btn.textContent;
        btn.textContent = '✓ Copied!';
        btn.style.background = 'rgba(201, 169, 97, 0.2)';
        setTimeout(() => {
          btn.textContent = original;
          btn.style.background = '';
        }, 1200);
      }).catch(() => {
        alert('Copy failed — please select text manually.');
      });
    }

    function updatePreview() {
      const intro = document.getElementById('introSelect')?.value || '';
      const food = document.getElementById('foodSelect')?.value || '';
      const decor = document.getElementById('decorSelect')?.value || '';
      const staff = document.getElementById('staffSelect')?.value || '';
      const rec = document.getElementById('recSelect')?.value || '';
      
      const preview = `${intro} ${food}. ${decor}. ${staff}. ${rec}.`;
      const previewEl = document.getElementById('builderPreview');
      if (previewEl) {
        previewEl.textContent = preview;
      }
    }

    function copyBuiltReview() {
      const preview = document.getElementById('builderPreview').textContent;
      navigator.clipboard.writeText(preview).then(() => {
        const btn = event.target;
        const original = btn.textContent;
        btn.textContent = '✓ Copied to Clipboard!';
        btn.style.background = 'rgba(201, 169, 97, 0.3)';
        setTimeout(() => {
          btn.textContent = original;
          btn.style.background = '';
        }, 1500);
      }).catch(() => {
        alert('Copy failed — please select text manually.');
      });
    }

    function toggleSample(id) {
      const sample = document.getElementById(id);
      const btn = event.target;
      
      if (sample.classList.contains('expanded')) {
        sample.classList.remove('expanded');
        btn.textContent = 'Expand';
      } else {
        sample.classList.add('expanded');
        btn.textContent = 'Collapse';
      }
    }

    function copySample(id) {
      const sample = document.getElementById(id);
      const text = sample.textContent.replace('Copy This Sample', '').trim();
      
      navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const original = btn.textContent;
        btn.textContent = '✓ Copied!';
        btn.style.background = 'rgba(201, 169, 97, 0.3)';
        setTimeout(() => {
          btn.textContent = original;
          btn.style.background = '';
        }, 1500);
      }).catch(() => {
        alert('Copy failed — please select text manually.');
      });
    }

    // Close modals on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeModal();
        closeReviewStudio();
      }
    });

    // Close modals when clicking overlay
    document.getElementById('modalOverlay').addEventListener('click', (e) => {
      closeModal(e);
      closeReviewStudio();
    });
  </script>
</body>
</html>
