<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>INTUITY ‚Äî Essay Builder</title>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      position: fixed;
    }

    body {
      font-family: 'Space Mono', monospace;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      color: #fff;
      -webkit-font-smoothing: antialiased;
      touch-action: pan-y;
    }

    /* BACK BUTTON */
    .back-btn {
      position: fixed;
      top: 1rem;
      left: 1rem;
      padding: 0.625rem 1.25rem;
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 8px;
      color: #ffd93d;
      font-size: 0.75rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      gap: 0.375rem;
      z-index: 2000;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .back-btn:hover {
      background: rgba(255, 255, 255, 0.12);
      transform: translateX(-3px);
      border-color: #ffd93d;
    }

    /* NAVIGATION BAR */
    .navigation-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(15, 15, 30, 0.95);
      backdrop-filter: blur(40px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      z-index: 999;
      padding: 0.875rem 1.25rem;
    }

    .essay-type-tabs {
      display: flex;
      gap: 0.75rem;
      justify-content: center;
      overflow-x: auto;
      scrollbar-width: none;
    }

    .essay-type-tabs::-webkit-scrollbar {
      display: none;
    }

    .essay-type-tab {
      padding: 0.75rem 1.5rem;
      background: transparent;
      border: none;
      border-bottom: 3px solid transparent;
      color: rgba(255, 255, 255, 0.4);
      cursor: pointer;
      font-size: 0.8125rem;
      font-weight: 700;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      white-space: nowrap;
      font-family: 'Space Mono', monospace;
    }

    .essay-type-tab:hover {
      color: #ffd93d;
      border-bottom-color: rgba(255, 217, 61, 0.4);
    }

    .essay-type-tab.active {
      color: #ffd93d;
      border-bottom-color: #ffd93d;
    }

    /* SLIDES CONTAINER */
    .slides-container {
      position: fixed;
      top: 90px;
      left: 0;
      right: 0;
      bottom: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
      overflow: hidden;
    }

    /* SLIDE CARD */
    .slide-card {
      position: relative;
      width: 100%;
      max-width: 1000px;
      max-height: 100%;
      background: #ffffff;
      border: 3px solid #0f3460;
      border-radius: 16px;
      padding: 2.5rem 2.5rem;
      opacity: 0;
      transition: opacity 0.4s ease;
      pointer-events: none;
      display: none;
      flex-direction: column;
      gap: 0;
      box-shadow: 0 25px 70px rgba(0, 0, 0, 0.3), 0 10px 25px rgba(255, 217, 61, 0.15);
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: thin;
      scrollbar-color: rgba(15, 52, 96, 0.3) transparent;
    }

    .slide-card::-webkit-scrollbar {
      width: 6px;
    }

    .slide-card::-webkit-scrollbar-track {
      background: transparent;
    }

    .slide-card::-webkit-scrollbar-thumb {
      background: rgba(15, 52, 96, 0.3);
      border-radius: 3px;
    }

    .slide-card::-webkit-scrollbar-thumb:hover {
      background: rgba(15, 52, 96, 0.5);
    }

    .slide-card.active {
      opacity: 1;
      pointer-events: auto;
      display: flex;
      z-index: 1;
    }

    /* CARD HEADER */
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid rgba(0, 0, 0, 0.08);
    }

    .essay-type-title {
      font-family: 'DM Serif Display', serif;
      font-size: 0.875rem;
      font-weight: 400;
      color: rgba(0, 0, 0, 0.4);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-style: italic;
    }

    /* TOGGLE SWITCH */
    .view-toggle {
      display: flex;
      background: rgba(15, 52, 96, 0.08);
      border-radius: 8px;
      padding: 0.25rem;
      gap: 0.25rem;
    }

    .toggle-btn {
      padding: 0.4rem 0.875rem;
      background: transparent;
      border: none;
      border-radius: 6px;
      color: rgba(0, 0, 0, 0.5);
      font-size: 0.6875rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.25s;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-family: 'Space Mono', monospace;
    }

    .toggle-btn:hover {
      color: rgba(0, 0, 0, 0.7);
    }

    .toggle-btn.active {
      background: #0f3460;
      color: #ffd93d;
    }

    /* SKELETON DISPLAY */
    .skeleton-display {
      font-family: 'Space Mono', monospace;
      font-size: 1.75rem;
      line-height: 1.4;
      color: #000000;
      text-align: left;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.015em;
      white-space: pre-line;
      word-wrap: break-word;
    }

    .skeleton-display .paragraph-block {
      margin-bottom: 2rem;
      animation: fadeSlideIn 0.5s ease-out;
    }

    @keyframes fadeSlideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .skeleton-display .paragraph-block:last-child {
      margin-bottom: 0;
    }

    .skeleton-display .paragraph-title {
      font-size: 1.125rem;
      color: rgba(0, 0, 0, 0.5);
      margin-bottom: 0.625rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    /* Color-coded paragraph titles */
    .skeleton-display .paragraph-block:nth-child(1) .paragraph-title {
      color: #2ecc71;
    }

    .skeleton-display .paragraph-block:nth-child(3) .paragraph-title,
    .skeleton-display .paragraph-block:nth-child(5) .paragraph-title,
    .skeleton-display .paragraph-block:nth-child(7) .paragraph-title {
      color: #e67e22;
    }

    .skeleton-display .paragraph-block:last-child .paragraph-title {
      color: #3498db;
    }

    .skeleton-display .paragraph-text {
      font-size: 1.75rem;
      color: #000000;
      line-height: 1.4;
      margin-bottom: 0.875rem;
    }

    .skeleton-display .paragraph-text:last-child {
      margin-bottom: 0;
    }

    .skeleton-display .divider {
      height: 1px;
      background: rgba(0, 0, 0, 0.1);
      margin: 1.5rem 0;
    }

    /* PHRASES DISPLAY */
    .phrases-display {
      font-family: 'Space Mono', monospace;
      color: #000000;
    }

    .phrase-category {
      margin-bottom: 2.5rem;
      animation: fadeSlideIn 0.5s ease-out;
    }

    .phrase-category:last-child {
      margin-bottom: 0;
    }

    .category-title {
      font-size: 1rem;
      font-weight: 700;
      color: #0f3460;
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid rgba(15, 52, 96, 0.2);
    }

    .subcategory {
      margin-bottom: 1.5rem;
    }

    .subcategory:last-child {
      margin-bottom: 0;
    }

    .subcategory-title {
      font-size: 0.8125rem;
      font-weight: 700;
      color: #e67e22;
      margin-bottom: 0.625rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .phrase-list {
      list-style: none;
      padding: 0;
    }

    .phrase-item {
      font-size: 0.9375rem;
      line-height: 1.6;
      color: #2c3e50;
      margin-bottom: 0.5rem;
      padding-left: 1.25rem;
      position: relative;
      font-weight: 400;
      text-transform: none;
      letter-spacing: 0;
    }

    .phrase-item:before {
      content: "‚Üí";
      position: absolute;
      left: 0;
      color: #3498db;
      font-weight: 700;
    }

    /* NAVIGATION ARROWS */
    .nav-arrows {
      position: fixed;
      bottom: 1.25rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 0.75rem;
      z-index: 1000;
    }

    .nav-arrow {
      width: 52px;
      height: 52px;
      border-radius: 50%;
      background: rgba(255, 217, 61, 0.15);
      border: 2px solid rgba(255, 217, 61, 0.4);
      color: #ffd93d;
      font-size: 1.25rem;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      backdrop-filter: blur(10px);
    }

    .nav-arrow:hover {
      background: rgba(255, 217, 61, 0.25);
      transform: scale(1.08);
      box-shadow: 0 0 20px rgba(255, 217, 61, 0.3);
    }

    .nav-arrow:active {
      transform: scale(0.95);
    }

    .nav-arrow:disabled {
      opacity: 0.2;
      cursor: not-allowed;
    }

    /* PROGRESS DOTS */
    .progress-dots {
      position: fixed;
      bottom: 4.5rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 0.5rem;
      z-index: 1000;
    }

    .progress-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: all 0.3s;
      cursor: pointer;
    }

    .progress-dot.active {
      background: #ffd93d;
      border-color: #ffd93d;
      transform: scale(1.35);
      box-shadow: 0 0 12px rgba(255, 217, 61, 0.6);
    }

    /* MOBILE OPTIMIZATIONS */
    @media (max-width: 768px) {
      html, body {
        width: 100vw;
        height: 100vh;
        height: -webkit-fill-available;
      }

      .navigation-bar {
        display: none;
      }

      .back-btn {
        top: 0.5rem;
        left: 0.5rem;
        padding: 0.4rem 0.75rem;
        font-size: 0.625rem;
        gap: 0.25rem;
      }

      .slides-container {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100vw;
        height: 100vh;
        height: -webkit-fill-available;
        padding: 0;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .slide-card {
        position: fixed;
        top: 2vh;
        left: 2vw;
        width: 96vw;
        height: 96vh;
        max-width: 96vw;
        max-height: 96vh;
        border: 2px solid #0f3460;
        border-radius: 12px;
        padding: 0.875rem 1rem;
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        overflow-y: auto;
      }

      .card-header {
        margin-bottom: 1rem;
        padding-bottom: 0.625rem;
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
      }

      .essay-type-title {
        font-size: 0.625rem;
      }

      .view-toggle {
        width: 100%;
        justify-content: stretch;
      }

      .toggle-btn {
        flex: 1;
        padding: 0.5rem 0.75rem;
        font-size: 0.625rem;
      }

      .skeleton-display {
        font-size: 1.125rem;
        line-height: 1.3;
      }

      .skeleton-display .paragraph-title {
        font-size: 0.75rem;
        margin-bottom: 0.375rem;
      }

      .skeleton-display .paragraph-text {
        font-size: 1.125rem;
        margin-bottom: 0.5rem;
      }

      .skeleton-display .paragraph-block {
        margin-bottom: 1rem;
      }

      .skeleton-display .divider {
        margin: 0.875rem 0;
      }

      /* Phrases display mobile */
      .phrase-category {
        margin-bottom: 1.5rem;
      }

      .category-title {
        font-size: 0.8125rem;
        margin-bottom: 0.75rem;
      }

      .subcategory {
        margin-bottom: 1rem;
      }

      .subcategory-title {
        font-size: 0.6875rem;
        margin-bottom: 0.5rem;
      }

      .phrase-item {
        font-size: 0.8125rem;
        margin-bottom: 0.375rem;
        padding-left: 1rem;
      }

      .nav-arrows {
        bottom: 0.875rem;
        gap: 0.625rem;
      }

      .nav-arrow {
        width: 44px;
        height: 44px;
        font-size: 1.125rem;
      }

      .progress-dots {
        bottom: 3.5rem;
        gap: 0.375rem;
      }

      .progress-dot {
        width: 6px;
        height: 6px;
      }
    }

    /* iPhone SE (375px) */
    @media (max-width: 375px) {
      .slide-card {
        padding: 0.75rem 0.875rem;
      }

      .skeleton-display {
        font-size: 1rem;
        line-height: 1.25;
      }

      .skeleton-display .paragraph-title {
        font-size: 0.6875rem;
        margin-bottom: 0.3rem;
      }

      .skeleton-display .paragraph-text {
        font-size: 1rem;
        margin-bottom: 0.4rem;
      }

      .phrase-item {
        font-size: 0.75rem;
      }

      .category-title {
        font-size: 0.75rem;
      }

      .subcategory-title {
        font-size: 0.625rem;
      }
    }

    /* Larger iPhones (430px) */
    @media (min-width: 415px) and (max-width: 768px) {
      .skeleton-display {
        font-size: 1.25rem;
        line-height: 1.35;
      }

      .skeleton-display .paragraph-text {
        font-size: 1.25rem;
      }

      .skeleton-display .paragraph-title {
        font-size: 0.8125rem;
      }

      .phrase-item {
        font-size: 0.875rem;
      }
    }
  </style>
</head>
<body>

<button class="back-btn" onclick="window.history.back()">
  <span>‚Üê</span>
  <span>Back</span>
</button>

<!-- DESKTOP NAVIGATION -->
<nav class="navigation-bar">
  <div class="essay-type-tabs" id="essayTypeTabs"></div>
</nav>

<!-- SLIDES CONTAINER -->
<div class="slides-container" id="slidesContainer"></div>

<!-- NAVIGATION -->
<div class="nav-arrows">
  <button class="nav-arrow" id="prevArrow" onclick="navigate(-1)">‚Üê</button>
  <button class="nav-arrow" id="nextArrow" onclick="navigate(1)">‚Üí</button>
</div>

<div class="progress-dots" id="progressDots"></div>

<script>
// ============================================
// ESSAY SKELETON DATABASE
// ============================================
const ESSAY_DATABASE = {
  "for-against": {
    label: "For & Against",
    skeletons: [
      {
        id: "fa-001",
        name: "Classic Balanced",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["Few people would deny that [topic] has become an essential part of daily life.", "", "Therefore, it is vital to analyse the benefits and drawbacks of [topic]."] },
          { emoji: "üí™", title: "ADVANTAGES", lines: ["The main advantage of [topic] is that it..."] },
          { emoji: "üî•", title: "MORE ADVANTAGES", lines: ["A further positive aspect of [topic] is that it..."] },
          { emoji: "‚ö°", title: "DISADVANTAGES", lines: ["The key disadvantage of [topic] is that it..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["On the whole, my own perspective is that..."] }
        ]
      },
      {
        id: "fa-002",
        name: "Debate Opener",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["In recent times, [topic] has sparked considerable debate.", "", "Hence, it is vitally important to consider the advantages and disadvantages."] },
          { emoji: "‚úÖ", title: "FIRST BENEFIT", lines: ["One major benefit of [topic] is that it..."] },
          { emoji: "üíé", title: "SECOND BENEFIT", lines: ["Supporters of [topic] often point out that it..."] },
          { emoji: "‚ùå", title: "DRAWBACKS", lines: ["A major drawback of [topic] is that it..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["On balance, it seems that the benefits outweigh the drawbacks."] }
        ]
      },
      {
        id: "fa-003",
        name: "Recognition Frame",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["It is widely recognized that [topic] plays a crucial role in shaping today's society.", "", "Consequently, it is essential to study the arguments in favour of and against [topic]."] },
          { emoji: "üí™", title: "ARGUMENTS FOR", lines: ["The main argument in favour of [topic] is that it..."] },
          { emoji: "üåü", title: "FURTHER SUPPORT", lines: ["A key reason why many people support [topic] is because..."] },
          { emoji: "‚ö†Ô∏è", title: "ARGUMENTS AGAINST", lines: ["One clear limitation of [topic] is that it..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["To sum up, while [topic] has its negative aspects, its advantages are more significant."] }
        ]
      },
      {
        id: "fa-004",
        name: "Impact Analysis",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["It is common knowledge that [topic] has made a significant impact on modern lifestyles.", "", "Thus, it becomes necessary to evaluate whether the advantages outweigh the disadvantages."] },
          { emoji: "üîë", title: "KEY ADVANTAGE", lines: ["A clear advantage of [topic] lies in its ability to..."] },
          { emoji: "‚ûï", title: "ADDITIONAL BENEFIT", lines: ["Another strong point is that [topic] helps to..."] },
          { emoji: "‚õî", title: "NEGATIVE ASPECT", lines: ["One negative aspect of [topic] is that it tends to..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["Overall, [topic] can be seen as both beneficial and problematic in different ways."] }
        ]
      },
      {
        id: "fa-005",
        name: "Increase Trend",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["Over the past few years, there has been a significant increase in [topic].", "", "Therefore, it is vital to analyse the benefits and drawbacks."] },
          { emoji: "‚ú®", title: "POSITIVE ASPECTS", lines: ["One benefit of [topic] is the fact that it..."] },
          { emoji: "üåà", title: "FURTHER ADVANTAGES", lines: ["Firstly, it seems to me that the key advantage..."] },
          { emoji: "‚ö°", title: "CHALLENGES", lines: ["On the other hand, it should be stated that the main drawback..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["In conclusion, there are both advantages and disadvantages to [topic]."] }
        ]
      },
      {
        id: "fa-006",
        name: "Recognition & Risk",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["There is a growing recognition that [topic] can have both positive and negative effects.", "", "Hence, it is vitally important to consider the advantages and disadvantages."] },
          { emoji: "üéØ", title: "MAIN STRENGTH", lines: ["Moreover, it is widely believed that one further benefit of..."] },
          { emoji: "üí°", title: "SUPPORTING POINT", lines: ["A further positive aspect of [topic] is that it..."] },
          { emoji: "üö®", title: "RISKS", lines: ["A significant downside of [topic] is the risk of..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["Despite its positive sides, careful consideration is needed."] }
        ]
      }
    ]
  },
  "problems-solutions": {
    label: "Problems & Solutions",
    skeletons: [
      {
        id: "ps-001",
        name: "Serious Issue",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["Nowadays, the issue of [problem] has become increasingly serious.", "", "Hence, it is vital to examine the causes and explore possible solutions."] },
          { emoji: "‚ö†Ô∏è", title: "FIRST PROBLEM", lines: ["One major problem is that..."] },
          { emoji: "üî•", title: "SECOND PROBLEM", lines: ["Another serious issue is that..."] },
          { emoji: "üí°", title: "SOLUTIONS", lines: ["One possible solution would be to...", "", "A practical way to address this is..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["To sum up, a combination of measures is needed."] }
        ]
      },
      {
        id: "ps-002",
        name: "Widespread Concern",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["Few people would deny that [problem] is becoming more widespread and concerning.", "", "Therefore, it is vitally important to identify the main problems and discuss solutions."] },
          { emoji: "üìâ", title: "KEY CHALLENGE", lines: ["A key challenge is that..."] },
          { emoji: "‚õî", title: "ADDITIONAL DIFFICULTY", lines: ["Another significant difficulty is that..."] },
          { emoji: "üõ†Ô∏è", title: "PRACTICAL SOLUTIONS", lines: ["The government should take steps to...", "", "Authorities could introduce policies that..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["Overall, while [problem] cannot be solved overnight, consistent efforts can lead to progress."] }
        ]
      }
    ]
  },
  "cause-effect": {
    label: "Cause & Effect",
    skeletons: [
      {
        id: "ce-001",
        name: "Significant Issue",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["Nowadays, the issue of [topic] has become increasingly significant.", "", "Hence, it is vital to examine the main causes and resulting effects."] },
          { emoji: "üîç", title: "FIRST CAUSE", lines: ["One of the main causes of [issue] is..."] },
          { emoji: "üî•", title: "SECOND CAUSE", lines: ["Another important cause concerns..."] },
          { emoji: "üìä", title: "EFFECTS", lines: ["As a result, [effect] has become increasingly common."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["To sum up, it is clear that [cause] has led to [effect]."] }
        ]
      }
    ]
  },
  "agree-disagree": {
    label: "Agree & Disagree",
    skeletons: [
      {
        id: "ad-001",
        name: "Ongoing Debate",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["There is an ongoing debate about whether [topic] is beneficial or not.", "", "Hence, this essay will discuss both sides of the argument."] },
          { emoji: "‚úÖ", title: "ARGUMENTS FOR", lines: ["One strong argument in favour of [topic] is that it..."] },
          { emoji: "‚ùå", title: "ARGUMENTS AGAINST", lines: ["On the other hand, critics argue that [topic] can lead to..."] },
          { emoji: "üí≠", title: "PERSONAL VIEW", lines: ["In my opinion, I [agree/disagree] because..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["To sum up, while both sides make valid points, I believe that..."] }
        ]
      }
    ]
  },
  "opinion": {
    label: "Opinion",
    skeletons: [
      {
        id: "op-001",
        name: "Widespread Discussion",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["Nowadays, the issue of [topic] has become a subject of widespread discussion.", "", "In my opinion, [topic] has more positive than negative aspects."] },
          { emoji: "1Ô∏è‚É£", title: "FIRST REASON", lines: ["Firstly, one key reason is that..."] },
          { emoji: "2Ô∏è‚É£", title: "SECOND REASON", lines: ["Secondly, another important point is that..."] },
          { emoji: "‚öñÔ∏è", title: "COUNTER-ARGUMENT", lines: ["Some people might argue that...", "", "However, I believe that..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["In conclusion, I believe that [opinion]."] }
        ]
      }
    ]
  },
  "speculation": {
    label: "Speculation & Trends",
    skeletons: [
      {
        id: "sp-001",
        name: "Growing Trend",
        skeleton: [
          { emoji: "üéØ", title: "INTRODUCTION", lines: ["Over the past few years, there has been a growing trend towards [trend].", "", "Hence, this essay will explore the reasons and possible future implications."] },
          { emoji: "üîç", title: "CAUSES", lines: ["One main reason for [trend] is that..."] },
          { emoji: "üîÆ", title: "PREDICTIONS", lines: ["It is likely that [trend] will continue to grow."] },
          { emoji: "üìà", title: "FUTURE EFFECTS", lines: ["As this trend develops, we may see..."] },
          { emoji: "üéÅ", title: "CONCLUSION", lines: ["To sum up, [trend] is growing because of..."] }
        ]
      }
    ]
  }
};

// ============================================
// PHRASE BANK DATABASE
// ============================================
const PHRASE_BANK = {
  "for-against": {
    categories: [
      {
        title: "Introduction",
        subcategories: [
          {
            subtitle: "Opening Hooks ‚Äî Trend Statements",
            phrases: [
              "Nowadays, [topic] is a regular part of everyday life.",
              "In recent years, [topic] has become a widely discussed issue.",
              "These days, [topic] affects many people's lives.",
              "More and more people today seem to...",
              "There is a growing tendency to...",
              "Over the past few years, there has been a significant increase in [topic]."
            ]
          },
          {
            subtitle: "Thesis Statements",
            phrases: [
              "This essay will discuss the main advantages and disadvantages of [topic].",
              "Therefore, it is vital to analyse the benefits and drawbacks of [topic].",
              "Hence, it is vitally important to consider the advantages and disadvantages.",
              "The aim of this essay is to weigh up the pros and cons of [topic]."
            ]
          }
        ]
      },
      {
        title: "Body Paragraphs",
        subcategories: [
          {
            subtitle: "Advantages",
            phrases: [
              "The main advantage of [topic] is that it...",
              "One major benefit of [topic] is that it...",
              "A further positive aspect of [topic] is that it...",
              "The main argument in favour of [topic] is that it...",
              "A key reason why many people support [topic] is because...",
              "Supporters of [topic] often point out that it...",
              "A clear advantage of [topic] lies in its ability to..."
            ]
          },
          {
            subtitle: "Disadvantages",
            phrases: [
              "The key disadvantage of [topic] is that it...",
              "A major drawback of [topic] is that it...",
              "One clear limitation of [topic] is that it...",
              "One negative aspect of [topic] is that it tends to...",
              "A significant downside of [topic] is the risk of...",
              "On the other hand, it should be stated that the main drawback..."
            ]
          },
          {
            subtitle: "Linking & Sequencing",
            phrases: [
              "Firstly,",
              "Furthermore,",
              "Moreover,",
              "In addition,",
              "On the other hand,",
              "However,",
              "Nevertheless,"
            ]
          }
        ]
      },
      {
        title: "Conclusion",
        subcategories: [
          {
            subtitle: "Summary Phrases",
            phrases: [
              "On the whole, my own perspective is that...",
              "Overall, I believe the benefits of [topic] outweigh the drawbacks.",
              "On balance, [topic] can be useful if managed properly.",
              "Taking everything into account, [topic] offers more benefits than problems.",
              "In conclusion, there are both advantages and disadvantages to [topic]."
            ]
          }
        ]
      }
    ]
  },
  "problems-solutions": {
    categories: [
      {
        title: "Introduction",
        subcategories: [
          {
            subtitle: "Opening Hooks",
            phrases: [
              "Nowadays, the issue of [problem] has become increasingly serious.",
              "It is generally believed that [problem] is causing significant difficulties.",
              "Few people would deny that [problem] is becoming more widespread and concerning.",
              "Over the past few years, there has been a worrying rise in [problem].",
              "In recent times, [problem] has attracted considerable public attention."
            ]
          },
          {
            subtitle: "Thesis Statements",
            phrases: [
              "This essay will outline the main problems and suggest possible solutions.",
              "Hence, it is vital to examine the causes of [problem] and explore possible solutions.",
              "Therefore, it is vitally important to identify the main problems and discuss how they can be solved."
            ]
          }
        ]
      },
      {
        title: "Body Paragraphs",
        subcategories: [
          {
            subtitle: "Problems",
            phrases: [
              "One major problem is that...",
              "A serious issue is that...",
              "Another significant difficulty is that...",
              "A key challenge is that...",
              "One pressing concern is that...",
              "Perhaps the most serious problem is that..."
            ]
          },
          {
            subtitle: "Solutions",
            phrases: [
              "One possible solution would be to...",
              "A practical approach is to...",
              "Another effective measure would be to...",
              "The government should take steps to...",
              "Authorities could introduce policies that...",
              "It is essential for governments to implement measures to...",
              "Individuals can also play a role by...",
              "Public awareness campaigns could help to..."
            ]
          }
        ]
      },
      {
        title: "Conclusion",
        subcategories: [
          {
            subtitle: "Summary Phrases",
            phrases: [
              "In conclusion, [problem] is serious, but it can be reduced with the right action.",
              "To sum up, a combination of different measures would improve the situation.",
              "Overall, while [problem] cannot be solved overnight, consistent efforts can lead to progress.",
              "While no solution is perfect, these approaches could bring noticeable improvement."
            ]
          }
        ]
      }
    ]
  },
  "cause-effect": {
    categories: [
      {
        title: "Introduction",
        subcategories: [
          {
            subtitle: "Opening Hooks",
            phrases: [
              "Nowadays, the issue of [topic] has become increasingly significant.",
              "It is widely acknowledged that [topic] has led to a number of serious consequences.",
              "In recent years, [topic] has emerged as one of the main causes of [effect].",
              "There is growing concern about the causes and consequences of [topic]."
            ]
          },
          {
            subtitle: "Thesis Statements",
            phrases: [
              "This essay will explain the main causes of [phenomenon] and describe its effects.",
              "Hence, it is vital to examine the main causes and effects.",
              "The aim is to identify the key causes and examine their impact."
            ]
          }
        ]
      },
      {
        title: "Body Paragraphs",
        subcategories: [
          {
            subtitle: "Causes",
            phrases: [
              "One of the main causes of [issue] is...",
              "A major reason behind [issue] is...",
              "The primary factor leading to [issue] is...",
              "This problem largely results from...",
              "Another important cause concerns...",
              "Perhaps the most significant cause of [phenomenon] is..."
            ]
          },
          {
            subtitle: "Effects",
            phrases: [
              "As a result, [effect] has become increasingly common.",
              "Consequently, this has led to [effect].",
              "The impact of [cause] can be seen in [effect].",
              "One major effect of [cause] is that it...",
              "This in turn causes [effect]."
            ]
          }
        ]
      },
      {
        title: "Conclusion",
        subcategories: [
          {
            subtitle: "Summary Phrases",
            phrases: [
              "To sum up, it is clear that [cause] has led to [effect].",
              "Overall, understanding the causes helps us deal with the consequences more effectively.",
              "For these reasons, it is important to address the causes, not just the results."
            ]
          }
        ]
      }
    ]
  },
  "agree-disagree": {
    categories: [
      {
        title: "Introduction",
        subcategories: [
          {
            subtitle: "Opening Hooks",
            phrases: [
              "There is an ongoing debate about whether [topic] is beneficial or not.",
              "It is widely argued that [topic] plays an important role in modern society.",
              "Many people believe that [topic] is a positive development, while others hold the opposite view.",
              "There is considerable disagreement over whether [topic] should be encouraged or discouraged."
            ]
          },
          {
            subtitle: "Thesis Statements",
            phrases: [
              "This essay will discuss both sides before giving my opinion.",
              "Hence, this essay will discuss both sides of the argument.",
              "After considering both viewpoints, I will explain my own opinion."
            ]
          }
        ]
      },
      {
        title: "Body Paragraphs",
        subcategories: [
          {
            subtitle: "Arguments For",
            phrases: [
              "One strong argument in favour of [topic] is that it...",
              "Supporters of [topic] often point out that it...",
              "Advocates of [topic] argue that it brings several advantages such as...",
              "It is often claimed that [topic] helps to..."
            ]
          },
          {
            subtitle: "Arguments Against",
            phrases: [
              "On the other hand, critics argue that [topic] can lead to...",
              "However, many people oppose [topic] because it may result in...",
              "Detractors of [topic] claim that it causes more harm than good.",
              "Those who disagree with [topic] believe that it fails to..."
            ]
          },
          {
            subtitle: "Personal Opinion",
            phrases: [
              "In my opinion, I [agree/disagree] because...",
              "Although there are concerns, I believe that...",
              "From my perspective, I am convinced that...",
              "Personally, I tend to believe that..."
            ]
          }
        ]
      },
      {
        title: "Conclusion",
        subcategories: [
          {
            subtitle: "Summary Phrases",
            phrases: [
              "To sum up, while both sides make valid points, I believe that...",
              "Overall, the arguments in favour of [topic] seem far more convincing.",
              "On balance, it appears that [topic] brings more advantages than disadvantages.",
              "In conclusion, although there are strong arguments on both sides, I firmly believe that..."
            ]
          }
        ]
      }
    ]
  },
  "opinion": {
    categories: [
      {
        title: "Introduction",
        subcategories: [
          {
            subtitle: "Opening Hooks",
            phrases: [
              "Nowadays, the issue of [topic] has become a subject of widespread discussion.",
              "It is widely believed that [topic] plays a crucial role in shaping our modern world.",
              "There is no doubt that [topic] has had a major influence on our lives.",
              "In recent years, [topic] has attracted increasing attention from both the public and experts."
            ]
          },
          {
            subtitle: "Thesis Statements (Your Opinion)",
            phrases: [
              "In my opinion, [topic] has more positive than negative aspects.",
              "From my perspective, [topic] plays a vital role in modern society.",
              "I firmly believe that [topic] is beneficial and contributes greatly to [area].",
              "Personally, I am convinced that [topic] has a largely positive impact."
            ]
          }
        ]
      },
      {
        title: "Body Paragraphs",
        subcategories: [
          {
            subtitle: "Supporting Your Opinion",
            phrases: [
              "Firstly, one key reason is that...",
              "I firmly believe that [topic] plays an essential role in...",
              "I strongly agree that [topic] contributes positively to...",
              "In my opinion, [topic] is one of the most effective ways to...",
              "From my perspective, [topic] should be considered a vital part of...",
              "There is no doubt in my mind that [topic] is beneficial for..."
            ]
          },
          {
            subtitle: "Counter-Arguments",
            phrases: [
              "Some people might argue that...",
              "However, critics may claim that...",
              "Admittedly, there are situations where...",
              "While it could be argued that... this overlooks...",
              "Although there are some concerns, I still think that..."
            ]
          }
        ]
      },
      {
        title: "Conclusion",
        subcategories: [
          {
            subtitle: "Summary Phrases",
            phrases: [
              "In conclusion, I believe that [opinion].",
              "For these reasons, I would strongly support [opinion].",
              "Overall, I am convinced that the advantages of [topic] far outweigh any drawbacks.",
              "To sum up, my view is that [topic] plays a crucial role in improving [area]."
            ]
          }
        ]
      }
    ]
  },
  "speculation": {
    categories: [
      {
        title: "Introduction",
        subcategories: [
          {
            subtitle: "Opening Hooks",
            phrases: [
              "Over the past few years, there has been a growing trend towards [trend].",
              "Nowadays, society is witnessing a remarkable change in [area/topic].",
              "It is increasingly common to see [trend] becoming a normal part of life.",
              "In recent times, attitudes towards [topic] have shifted significantly."
            ]
          },
          {
            subtitle: "Thesis Statements",
            phrases: [
              "This essay will explain why this trend is happening and what it could lead to.",
              "Hence, this essay will explore the reasons behind this trend and its likely future.",
              "The aim is to identify the key drivers of [trend] and predict its impact."
            ]
          }
        ]
      },
      {
        title: "Body Paragraphs",
        subcategories: [
          {
            subtitle: "Causes of Trend",
            phrases: [
              "One main reason for [trend] is that...",
              "The primary factor leading to this change is...",
              "A crucial element in the rise of [phenomenon] is...",
              "This trend can be attributed to..."
            ]
          },
          {
            subtitle: "Predictions & Future Effects",
            phrases: [
              "It is likely that [trend] will continue to grow.",
              "In the future, we will probably see...",
              "It is expected that [trend] will become even more widespread.",
              "As this trend develops, we may see...",
              "If current patterns persist, [future result] can be expected.",
              "Should this trend continue, it could lead to [effect]."
            ]
          }
        ]
      },
      {
        title: "Conclusion",
        subcategories: [
          {
            subtitle: "Summary Phrases",
            phrases: [
              "To sum up, [trend] is growing because of [causes], and it will probably continue.",
              "Overall, this trend is likely to shape [area] in the future.",
              "On balance, this trend will bring both opportunities and challenges.",
              "The evidence suggests that [trend] will continue to expand in importance."
            ]
          }
        ]
      }
    ]
  }
};

// ============================================
// STATE
// ============================================
let currentType = 'for-against';
let currentVariation = 0;
let viewMode = 'skeleton'; // 'skeleton' or 'phrases'

// ============================================
// INITIALIZATION
// ============================================
function init() {
  buildTypeTabs();
  renderContent();
  renderDots();
  updateNav();
}

function buildTypeTabs() {
  const container = document.getElementById('essayTypeTabs');
  container.innerHTML = '';
  
  Object.keys(ESSAY_DATABASE).forEach(key => {
    const btn = document.createElement('button');
    btn.className = `essay-type-tab ${key === currentType ? 'active' : ''}`;
    btn.textContent = ESSAY_DATABASE[key].label;
    btn.onclick = () => switchType(key);
    container.appendChild(btn);
  });
}

function switchType(type) {
  currentType = type;
  currentVariation = 0;
  buildTypeTabs();
  renderContent();
  renderDots();
  updateNav();
}

function renderContent() {
  const wrapper = document.getElementById('slidesContainer');
  wrapper.innerHTML = '';
  
  const slideCard = document.createElement('div');
  slideCard.className = 'slide-card active';
  
  const essay = ESSAY_DATABASE[currentType];
  const variation = essay.skeletons[currentVariation];
  
  // Build header with toggle
  let headerHTML = `
    <div class="card-header">
      <div class="essay-type-title">${essay.label}${viewMode === 'skeleton' ? ` ‚Äî ${variation.name}` : ''}</div>
      <div class="view-toggle">
        <button class="toggle-btn ${viewMode === 'skeleton' ? 'active' : ''}" onclick="setViewMode('skeleton')">
          Skeleton
        </button>
        <button class="toggle-btn ${viewMode === 'phrases' ? 'active' : ''}" onclick="setViewMode('phrases')">
          Phrases
        </button>
      </div>
    </div>
  `;
  
  let contentHTML = '';
  
  if (viewMode === 'skeleton') {
    contentHTML = renderSkeleton(variation);
  } else {
    contentHTML = renderPhrases(currentType);
  }
  
  slideCard.innerHTML = headerHTML + contentHTML;
  wrapper.appendChild(slideCard);
}

function renderSkeleton(variation) {
  let html = '<div class="skeleton-display">';
  
  variation.skeleton.forEach((para, index) => {
    html += '<div class="paragraph-block">';
    html += `<div class="paragraph-title">${para.emoji} ${para.title}</div>`;
    
    para.lines.forEach(line => {
      if (line === "") {
        html += '<div class="paragraph-text">&nbsp;</div>';
      } else {
        html += `<div class="paragraph-text">${line}</div>`;
      }
    });
    
    if (index < variation.skeleton.length - 1) {
      html += '</div><div class="divider"></div>';
    } else {
      html += '</div>';
    }
  });
  
  html += '</div>';
  return html;
}

function renderPhrases(essayType) {
  const phraseData = PHRASE_BANK[essayType];
  if (!phraseData) return '<div class="phrases-display">No phrase bank available for this essay type.</div>';
  
  let html = '<div class="phrases-display">';
  
  phraseData.categories.forEach(category => {
    html += '<div class="phrase-category">';
    html += `<div class="category-title">${category.title}</div>`;
    
    category.subcategories.forEach(sub => {
      html += '<div class="subcategory">';
      html += `<div class="subcategory-title">${sub.subtitle}</div>`;
      html += '<ul class="phrase-list">';
      
      sub.phrases.forEach(phrase => {
        html += `<li class="phrase-item">${phrase}</li>`;
      });
      
      html += '</ul></div>';
    });
    
    html += '</div>';
  });
  
  html += '</div>';
  return html;
}

function setViewMode(mode) {
  viewMode = mode;
  renderContent();
  updateNav();
}

function renderDots() {
  const container = document.getElementById('progressDots');
  container.innerHTML = '';
  
  if (viewMode === 'skeleton') {
    const essay = ESSAY_DATABASE[currentType];
    essay.skeletons.forEach((skeleton, index) => {
      const dot = document.createElement('div');
      dot.className = `progress-dot ${index === currentVariation ? 'active' : ''}`;
      dot.onclick = () => switchVariation(index);
      container.appendChild(dot);
    });
  }
}

function switchVariation(index) {
  currentVariation = index;
  renderContent();
  renderDots();
  updateNav();
}

function navigate(direction) {
  if (viewMode === 'skeleton') {
    const essay = ESSAY_DATABASE[currentType];
    currentVariation += direction;
    currentVariation = Math.max(0, Math.min(currentVariation, essay.skeletons.length - 1));
    renderDots();
  } else {
    // In phrases mode, navigate between essay types
    const types = Object.keys(ESSAY_DATABASE);
    const currentIndex = types.indexOf(currentType);
    const newIndex = currentIndex + direction;
    if (newIndex >= 0 && newIndex < types.length) {
      switchType(types[newIndex]);
      return;
    }
  }
  
  renderContent();
  updateNav();
}

function updateNav() {
  if (viewMode === 'skeleton') {
    const essay = ESSAY_DATABASE[currentType];
    document.getElementById('prevArrow').disabled = currentVariation === 0;
    document.getElementById('nextArrow').disabled = currentVariation === essay.skeletons.length - 1;
  } else {
    const types = Object.keys(ESSAY_DATABASE);
    const currentIndex = types.indexOf(currentType);
    document.getElementById('prevArrow').disabled = currentIndex === 0;
    document.getElementById('nextArrow').disabled = currentIndex === types.length - 1;
  }
}

// Keyboard navigation
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowLeft') navigate(-1);
  if (e.key === 'ArrowRight') navigate(1);
});

// Touch swipe
let touchStartX = 0;
let touchEndX = 0;

document.addEventListener('touchstart', (e) => {
  touchStartX = e.touches[0].clientX;
});

document.addEventListener('touchend', (e) => {
  touchEndX = e.changedTouches[0].clientX;
  handleSwipe();
});

function handleSwipe() {
  const diff = touchStartX - touchEndX;
  if (Math.abs(diff) > 50) {
    if (diff > 0) {
      navigate(1);
    } else {
      navigate(-1);
    }
  }
}

// Prevent pull-to-refresh
document.body.addEventListener('touchmove', function(e) {
  if (e.target === document.body) {
    e.preventDefault();
  }
}, { passive: false });

// START
init();
</script>

</body>
</html>
