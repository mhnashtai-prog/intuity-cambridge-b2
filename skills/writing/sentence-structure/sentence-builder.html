<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>INTUITY - Sentence Builder</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --accent: #C9A961;
      --accent-soft: rgba(201, 169, 97, 0.32);
      --accent-bg: rgba(201, 169, 97, 0.2);
    }

    body {
      font-family: 'DM Sans', 'Inter', sans-serif;
      background: radial-gradient(circle at top, #1a1a1a 0, #050505 45%, #000 100%);
      color: #e5e5e7;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 20% 10%, rgba(201, 169, 97, 0.12) 0%, transparent 55%),
        radial-gradient(circle at 80% 90%, rgba(201, 169, 97, 0.06) 0%, transparent 45%);
      pointer-events: none;
      z-index: 0;
    }

    .container {
      position: relative;
      z-index: 2;
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      flex: 1;
    }

    .header {
      background: rgba(28, 28, 30, 0.95);
      backdrop-filter: blur(40px);
      border-bottom: 1px solid rgba(84, 84, 88, 0.3);
      padding: 0.75rem 1.5rem;
      margin-bottom: 1rem;
      border-radius: 1rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      text-align: center;
    }

    .brand-logo {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.6rem;
      font-weight: 700;
      color: #C9A961;
      text-transform: uppercase;
      letter-spacing: -0.04em;
      margin-bottom: 0.25rem;
    }
    
    .brand-subtitle {
      font-size: 0.75rem;
      color: #636366;
      margin-top: 0.25rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .back-btn {
      position: absolute;
      top: 1rem;
      left: 1rem;
      padding: 0.4rem 0.85rem;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 999px;
      color: #C9A961;
      font-size: 0.7rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      z-index: 100;
      min-height: 44px;
    }

    .back-btn:hover {
      background: rgba(0, 0, 0, 0.6);
      border-color: rgba(201, 169, 97, 0.3);
      transform: translateX(-2px);
    }

    .card {
      background: rgba(20, 20, 22, 0.85);
      backdrop-filter: blur(30px) saturate(160%);
      border-radius: 1.5rem;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow:
        0 20px 40px rgba(0, 0, 0, 0.9),
        inset 0 1px 0 rgba(255, 255, 255, 0.04);
      padding: 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      flex: 1;
      margin-bottom: 1rem;
    }

    .step-indicator {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.04);
      margin-bottom: 0.5rem;
    }

    .step-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s;
      cursor: pointer;
    }

    .step-dot:hover {
      transform: scale(1.2);
      border-color: var(--accent);
    }

    .step-dot.active {
      background: var(--accent);
      border-color: var(--accent);
      box-shadow: 0 0 16px var(--accent-soft);
      transform: scale(1.4);
    }

    .step-dot.completed {
      background: rgba(16, 185, 129, 0.6);
      border-color: #10b981;
    }

    .presentation-area {
      margin-top: 0.25rem;
      padding: 2rem 2rem;
      border-radius: 1.2rem;
      background: 
        linear-gradient(145deg, rgba(25, 25, 27, 0.7), rgba(15, 15, 17, 0.85));
      box-shadow: 
        inset 8px 8px 16px rgba(0, 0, 0, 0.6),
        inset -8px -8px 16px rgba(40, 40, 42, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.02);
      min-height: 380px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 1.5rem;
      text-align: center;
    }

    .step-title {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 0.85rem;
      font-weight: 700;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin-bottom: 0.5rem;
    }

    .sentence-display {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 1.5rem;
      font-weight: 700;
      line-height: 1.4;
      color: #fef3c7;
      letter-spacing: -0.02em;
      text-shadow: 
        0 2px 20px rgba(0, 0, 0, 0.9),
        0 0 40px rgba(254, 243, 199, 0.3);
      max-width: 95%;
      margin: 0 auto;
    }

    .highlight-new {
      color: #10b981;
      text-shadow: 
        0 2px 20px rgba(0, 0, 0, 0.9),
        0 0 40px rgba(16, 185, 129, 0.4);
    }

    .explanation {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(201, 169, 97, 0.2);
      border-radius: 0.75rem;
      padding: 1rem 1.5rem;
      margin-top: 1rem;
      max-width: 90%;
      display: none;
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.3s ease;
    }

    .explanation.show {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .help-icon {
      position: absolute;
      top: 1rem;
      right: 1rem;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(201, 169, 97, 0.3);
      color: var(--accent);
      font-size: 0.9rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .help-icon:hover {
      background: rgba(201, 169, 97, 0.2);
      border-color: var(--accent);
      transform: scale(1.1);
    }

    .help-icon.active {
      background: rgba(201, 169, 97, 0.3);
      border-color: var(--accent);
      box-shadow: 0 0 12px var(--accent-soft);
    }

    .explanation-label {
      font-size: 0.7rem;
      font-weight: 700;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 0.5rem;
    }

    .explanation-text {
      font-size: 0.9rem;
      line-height: 1.6;
      color: #e5e7eb;
    }

    .structure-tag {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0.4rem 0.75rem;
      border-radius: 999px;
      font-size: 0.75rem;
      background: rgba(59, 130, 246, 0.15);
      border: 1px solid rgba(59, 130, 246, 0.3);
      color: #93c5fd;
      font-weight: 600;
      margin-top: 0.5rem;
    }

    .bottom-nav {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 0.5rem;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .btn {
      min-height: 2.5rem;
      padding: 0 1.25rem;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      background: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      color: #e5e5e7;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .btn:hover:not(.btn-disabled) {
      background: rgba(0, 0, 0, 0.5);
      border-color: rgba(201, 169, 97, 0.3);
      transform: translateY(-1px);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent) 0%, #fef9c3 100%);
      color: #111827;
      border-color: var(--accent);
      box-shadow: 0 3px 10px var(--accent-soft);
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, #d4b46e 0%, #fef9c3 100%);
      box-shadow: 0 4px 12px var(--accent-soft);
      transform: translateY(-2px);
    }

    .btn-disabled {
      opacity: 0.3;
      cursor: not-allowed;
      box-shadow: none;
    }

    @media (max-width: 768px) {
      body {
        padding: 0.4rem;
        padding-top: 0.4rem;
      }

      .container {
        padding: 0;
      }

      .back-btn {
        top: 0.4rem;
        left: 0.4rem;
        padding: 0.3rem 0.5rem;
        font-size: 0.55rem;
      }

      .header {
        padding: 0.4rem 0.6rem;
        margin-bottom: 0.5rem;
      }

      .brand-logo {
        font-size: 1rem;
        margin-bottom: 0.1rem;
      }

      .brand-subtitle {
        font-size: 0.55rem;
      }

      .card {
        padding: 0.75rem;
        gap: 0.4rem;
      }

      .presentation-area {
        padding: 1.5rem 1rem;
        min-height: 320px;
        gap: 1rem;
      }

      .sentence-display {
        font-size: 1.2rem;
      }

      .step-title {
        font-size: 0.7rem;
      }

      .explanation {
        padding: 0.75rem 1rem;
        margin-top: 0.75rem;
      }

      .explanation-text {
        font-size: 0.8rem;
      }

      .btn {
        min-height: 2.25rem;
        font-size: 0.65rem;
        padding: 0 0.85rem;
      }
    }
  </style>
</head>
<body>

<button class="back-btn" onclick="window.location.href='../../../index.html?openModal=writing&submenu=sentence-structure'">
  <span>‚Üê</span>
  <span>Back</span>
</button>

<div class="container">
  <header class="header">
    <div class="brand-logo">INTUITY</div>
    <div class="brand-subtitle">Sentence Builder</div>
  </header>

  <main class="card">
    <div class="help-icon" onclick="toggleHelp()" title="Toggle explanation">?</div>
    <div class="step-indicator" id="stepIndicator"></div>
    <section class="presentation-area" id="presentationArea"></section>
    <div class="bottom-nav" id="bottomNav"></div>
  </main>
</div>

<script>
// ==================== DATA (TEEN-FRIENDLY) ====================
const examples = [
  {
    topic: "Social Media",
    steps: [
      {
        level: 1,
        title: "Step 1: Basic Sentence",
        sentence: "Social media influences people.",
        explanation: "This is your foundation‚Äîa complete thought with who does what. Simple and clear.",
        structure: "Subject + Verb + Object",
        status: "complete"
      },
      {
        level: 2,
        title: "Step 2: Add HOW",
        sentence: "Social media influences people through targeted content.",
        explanation: "Now we know HOW it happens. Adding 'through targeted content' makes it more specific.",
        structure: "Basic + Method",
        status: "enhanced",
        additions: ["through targeted content"]
      },
      {
        level: 3,
        title: "Step 3: Add Detail",
        sentence: "Social media, which billions use daily, influences people through targeted content.",
        explanation: "The 'which billions use daily' part shows how massive this is. It's extra info set off by commas.",
        structure: "Detail + Basic + Method",
        status: "complex",
        additions: ["which billions use daily"]
      },
      {
        level: 4,
        title: "Step 4: Add WHY It Matters",
        sentence: "Social media, which billions use daily, influences people through targeted content that shapes their opinions.",
        explanation: "Now we show the RESULT‚Äî'that shapes their opinions' tells us why this matters.",
        structure: "Detail + Basic + Method + Result",
        status: "advanced",
        additions: ["that shapes their opinions"]
      },
      {
        level: 5,
        title: "Step 5: Make It Complete",
        sentence: "Social media, which billions use daily, influences people through targeted content that shapes their opinions, often without them realizing it.",
        explanation: "The ending 'often without them realizing it' adds a critical insight‚Äîit happens unconsciously. Now you have a fully developed idea.",
        structure: "Full Complex Sentence",
        status: "mastery",
        additions: ["often without them realizing it"]
      }
    ]
  },
  {
    topic: "Climate Change",
    steps: [
      {
        level: 1,
        title: "Step 1: Basic Sentence",
        sentence: "Renewable energy reduces pollution.",
        explanation: "Start simple: who/what does what. This makes sense on its own.",
        structure: "Subject + Verb + Object",
        status: "complete"
      },
      {
        level: 2,
        title: "Step 2: Add Examples",
        sentence: "Renewable energy, like solar and wind, reduces pollution.",
        explanation: "The 'like solar and wind' part gives concrete examples so readers know exactly what you mean.",
        structure: "Basic + Examples",
        status: "enhanced",
        additions: ["like solar and wind"]
      },
      {
        level: 3,
        title: "Step 3: Add WHY",
        sentence: "Renewable energy, like solar and wind, reduces pollution because it produces no harmful emissions.",
        explanation: "The 'because...' explains WHY it works. This connects cause and effect.",
        structure: "Basic + Examples + Reason",
        status: "complex",
        additions: ["because it produces no harmful emissions"]
      },
      {
        level: 4,
        title: "Step 4: Add Context",
        sentence: "Renewable energy, like solar and wind, which is getting cheaper every year, reduces pollution because it produces no harmful emissions.",
        explanation: "Adding 'which is getting cheaper every year' gives current context‚Äîthis matters for the real world.",
        structure: "Basic + Examples + Context + Reason",
        status: "advanced",
        additions: ["which is getting cheaper every year"]
      },
      {
        level: 5,
        title: "Step 5: Complete the Argument",
        sentence: "Renewable energy, like solar and wind, which is getting cheaper every year, reduces pollution because it produces no harmful emissions, making it a practical alternative to fossil fuels.",
        explanation: "The conclusion 'making it a practical alternative...' shows the bigger picture and wraps up your point.",
        structure: "Full Complex Sentence",
        status: "mastery",
        additions: ["making it a practical alternative to fossil fuels"]
      }
    ]
  },
  {
    topic: "Online Learning",
    steps: [
      {
        level: 1,
        title: "Step 1: Basic Sentence",
        sentence: "Online platforms offer flexibility.",
        explanation: "Your starting point‚Äîclear and direct. What does what.",
        structure: "Subject + Verb + Object",
        status: "complete"
      },
      {
        level: 2,
        title: "Step 2: Add Who Uses It",
        sentence: "Online platforms, used by millions of students, offer flexibility.",
        explanation: "'Used by millions of students' shows the scale. This makes it more real and relatable.",
        structure: "Basic + User Info",
        status: "enhanced",
        additions: ["used by millions of students"]
      },
      {
        level: 3,
        title: "Step 3: Add Comparison",
        sentence: "Online platforms, used by millions of students, offer flexibility that traditional classrooms can't match.",
        explanation: "The 'that traditional classrooms can't match' part creates a comparison‚Äîit shows what makes this different.",
        structure: "Basic + User Info + Comparison",
        status: "complex",
        additions: ["that traditional classrooms can't match"]
      },
      {
        level: 4,
        title: "Step 4: Add Who Benefits",
        sentence: "Online platforms, used by millions of students, offer flexibility that traditional classrooms can't match, especially for working people and parents.",
        explanation: "'Especially for working people and parents' specifies WHO benefits most. This makes your point more focused.",
        structure: "Basic + User Info + Comparison + Beneficiaries",
        status: "advanced",
        additions: ["especially for working people and parents"]
      },
      {
        level: 5,
        title: "Step 5: Complete the Picture",
        sentence: "Online platforms, used by millions of students, offer flexibility that traditional classrooms can't match, especially for working people and parents who need to balance education with other responsibilities.",
        explanation: "The ending explains WHY these people benefit‚Äî'who need to balance...' shows the real-world situation.",
        structure: "Full Complex Sentence",
        status: "mastery",
        additions: ["who need to balance education with other responsibilities"]
      }
    ]
  },
  {
    topic: "AI Technology",
    steps: [
      {
        level: 1,
        title: "Step 1: Basic Sentence",
        sentence: "AI systems are changing workplaces.",
        explanation: "Simple and clear‚Äîwhat's happening right now.",
        structure: "Subject + Verb + Object",
        status: "complete"
      },
      {
        level: 2,
        title: "Step 2: Add Where",
        sentence: "AI systems, now used across many industries, are changing workplaces.",
        explanation: "'Now used across many industries' tells WHERE this is happening‚Äîit's everywhere.",
        structure: "Basic + Location/Scope",
        status: "enhanced",
        additions: ["now used across many industries"]
      },
      {
        level: 3,
        title: "Step 3: Add What It Does",
        sentence: "AI systems, now used across many industries, are changing workplaces by automating tasks humans used to do.",
        explanation: "The 'by automating...' part explains exactly WHAT the change is.",
        structure: "Basic + Scope + Function",
        status: "complex",
        additions: ["by automating tasks humans used to do"]
      },
      {
        level: 4,
        title: "Step 4: Show Both Sides",
        sentence: "AI systems, now used across many industries, are changing workplaces by automating tasks humans used to do, creating both opportunities and concerns.",
        explanation: "'Creating both opportunities and concerns' acknowledges it's complicated‚Äînot all good or all bad.",
        structure: "Basic + Scope + Function + Balance",
        status: "advanced",
        additions: ["creating both opportunities and concerns"]
      },
      {
        level: 5,
        title: "Step 5: Get Specific",
        sentence: "AI systems, now used across many industries, are changing workplaces by automating tasks humans used to do, creating both opportunities and concerns, especially for workers who might need new skills.",
        explanation: "The ending gets specific about the concerns‚Äî'especially for workers who might need new skills' shows the real impact on people.",
        structure: "Full Complex Sentence",
        status: "mastery",
        additions: ["especially for workers who might need new skills"]
      }
    ]
  },
  {
    topic: "Urban Living",
    steps: [
      {
        level: 1,
        title: "Step 1: Basic Sentence",
        sentence: "Modern cities face challenges.",
        explanation: "Your foundation‚Äîwhat's the problem?",
        structure: "Subject + Verb + Object",
        status: "complete"
      },
      {
        level: 2,
        title: "Step 2: Add WHY",
        sentence: "Modern cities, with growing populations, face challenges.",
        explanation: "'With growing populations' tells us WHY there are challenges‚Äîmore people = more problems.",
        structure: "Basic + Cause",
        status: "enhanced",
        additions: ["with growing populations"]
      },
      {
        level: 3,
        title: "Step 3: Make It More Specific",
        sentence: "Modern cities, whose populations are growing rapidly, face infrastructure challenges.",
        explanation: "'Whose populations are growing rapidly' makes it more precise, and 'infrastructure challenges' gets specific about what kind of problems.",
        structure: "Basic + Specific Cause + Specific Problem",
        status: "complex",
        additions: ["whose populations are growing rapidly", "infrastructure"]
      },
      {
        level: 4,
        title: "Step 4: Add What's Needed",
        sentence: "Modern cities, whose populations are growing rapidly, face infrastructure challenges that need innovative solutions.",
        explanation: "'That need innovative solutions' shows what has to happen‚Äînot just any fixes, but creative ones.",
        structure: "Basic + Cause + Problem + Solution Type",
        status: "advanced",
        additions: ["that need innovative solutions"]
      },
      {
        level: 5,
        title: "Step 5: Acknowledge Reality",
        sentence: "Modern cities, whose populations are growing rapidly, face infrastructure challenges that need innovative solutions, despite limited budgets and competing priorities.",
        explanation: "'Despite limited budgets and competing priorities' adds reality‚Äîsolutions have to work with real constraints.",
        structure: "Full Complex Sentence",
        status: "mastery",
        additions: ["despite limited budgets and competing priorities"]
      }
    ]
  }
];

// ==================== STATE ====================
let currentExampleIndex = 0;
let currentStep = 0;
let showExplanation = false;

// ==================== FUNCTIONS ====================
function getCurrentExample() {
  return examples[currentExampleIndex];
}

function getCurrentStepData() {
  return getCurrentExample().steps[currentStep];
}

function renderStepIndicator() {
  const indicator = document.getElementById('stepIndicator');
  const example = getCurrentExample();
  
  indicator.innerHTML = example.steps.map((step, index) => {
    let className = 'step-dot';
    if (index === currentStep) className += ' active';
    else if (index < currentStep) className += ' completed';
    
    return `<div class="${className}" onclick="goToStep(${index})" title="Step ${index + 1}"></div>`;
  }).join('');
}

function highlightAdditions(sentence, additions) {
  if (!additions || additions.length === 0) return sentence;
  
  let highlighted = sentence;
  additions.forEach(addition => {
    const regex = new RegExp(`(${addition.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
    highlighted = highlighted.replace(regex, '<span class="highlight-new">$1</span>');
  });
  
  return highlighted;
}

function renderContent() {
  const area = document.getElementById('presentationArea');
  const stepData = getCurrentStepData();
  
  const highlightedSentence = currentStep > 0 
    ? highlightAdditions(stepData.sentence, stepData.additions) 
    : stepData.sentence;
  
  area.innerHTML = `
    <div>
      <div class="step-title">${stepData.title}</div>
      <div class="sentence-display">${highlightedSentence}</div>
      
      ${stepData.structure ? `
        <div class="structure-tag">
          <span>üìê</span>
          <span>${stepData.structure}</span>
        </div>
      ` : ''}
      
      <div class="explanation ${showExplanation ? 'show' : ''}">
        <div class="explanation-label">What's Happening Here</div>
        <div class="explanation-text">${stepData.explanation}</div>
      </div>
    </div>
  `;
}

function renderBottomNav() {
  const nav = document.getElementById('bottomNav');
  const isFirstStep = currentStep === 0;
  const isLastStep = currentStep === getCurrentExample().steps.length - 1;
  
  nav.innerHTML = `
    <button class="btn ${isFirstStep ? 'btn-disabled' : ''}" onclick="previousStep()" ${isFirstStep ? 'disabled' : ''}>
      <span>‚Üê</span>
      <span>Previous</span>
    </button>
    
    <button class="btn" onclick="copyText()">
      <span>üìã</span>
      <span>Copy</span>
    </button>
    
    <button class="btn btn-primary" onclick="nextExample()">
      <span>üîÑ</span>
      <span>New Topic</span>
    </button>
    
    <button class="btn ${isLastStep ? 'btn-disabled' : ''}" onclick="nextStep()" ${isLastStep ? 'disabled' : ''}>
      <span>Next</span>
      <span>‚Üí</span>
    </button>
  `;
}

function render() {
  renderStepIndicator();
  renderContent();
  renderBottomNav();
  updateHelpIcon();
}

function toggleHelp() {
  showExplanation = !showExplanation;
  updateHelpIcon();
  renderContent();
}

function updateHelpIcon() {
  const helpIcon = document.querySelector('.help-icon');
  if (helpIcon) {
    if (showExplanation) {
      helpIcon.classList.add('active');
    } else {
      helpIcon.classList.remove('active');
    }
  }
}

// ==================== NAVIGATION ====================
function nextStep() {
  const example = getCurrentExample();
  if (currentStep < example.steps.length - 1) {
    currentStep++;
    render();
  }
}

function previousStep() {
  if (currentStep > 0) {
    currentStep--;
    render();
  }
}

function goToStep(stepIndex) {
  currentStep = stepIndex;
  render();
}

function nextExample() {
  currentExampleIndex = (currentExampleIndex + 1) % examples.length;
  currentStep = 0;
  render();
}

function copyText() {
  const stepData = getCurrentStepData();
  const textToCopy = stepData.sentence.replace(/<[^>]*>/g, '');
  
  navigator.clipboard.writeText(textToCopy).then(() => {
    const btn = event.target.closest('.btn');
    const originalHTML = btn.innerHTML;
    btn.innerHTML = '<span>‚úì</span><span>Copied!</span>';
    setTimeout(() => {
      btn.innerHTML = originalHTML;
    }, 1500);
  }).catch(err => {
    console.error('Failed to copy:', err);
  });
}

// ==================== KEYBOARD NAVIGATION ====================
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowRight') nextStep();
  if (e.key === 'ArrowLeft') previousStep();
  if (e.key === 'Enter') nextExample();
});

// ==================== INITIALIZE ====================
render();
</script>
</body>
</html>
